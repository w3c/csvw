<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document " about="" property="dcterms:language" content="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <title>Metadata Vocabulary for Tabular Data</title>
    
    
  <style>
    td, th { padding-left: 1em; padding-right: 1em; }
    tbody tr th { text-align: left; }
  </style><style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #C83500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

@media print {
    .removeOnSave {
        display: none;
    }
}
</style><style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;   
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;    
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title { color: #2b2; }
div.issue-title span, div.note-title span {
    text-transform: uppercase;
}
div.note, div.issue {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .issue > p:first-child { margin-top: 0 }
.issue, .note {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.issue { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note {
    border-color: #52e052;
    background: #e9fbe9;
}


</style><style>/* HIGHLIGHTS */
code.prettyprint {
    color:  inherit;
}

/* this from google-code-prettify */
.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
</style><link href="https://www.w3.org/StyleSheets/TR/W3C-WD" rel="stylesheet"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head>
  
  <body id="respecDocument" role="document" class="h-entry"><div id="respecHeader" role="contentinfo" class="head">
  <p>
    
      <a href="http://www.w3.org/"><img src="https://www.w3.org/Icons/w3c_home" alt="W3C" height="48" width="72"></a>
    
  </p>
  <h1 class="title p-name" id="title" property="dcterms:title">Metadata Vocabulary for Tabular Data</h1>
  
  <h2 id="w3c-first-public-working-draft-10-july-2014" property="dcterms:issued" datatype="xsd:dateTime" content="2014-07-09T22:00:00.000Z"><abbr title="World Wide Web Consortium">W3C</abbr> First Public Working Draft <time class="dt-published" datetime="2014-07-10">10 July 2014</time></h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a class="u-url" href="http://www.w3.org/TR/2014/WD-tabular-metadata-20140710/">http://www.w3.org/TR/2014/WD-tabular-metadata-20140710/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/tabular-metadata/">http://www.w3.org/TR/tabular-metadata/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://w3c.github.io/csvw/metadata/">http://w3c.github.io/csvw/metadata/</a></dd>
    
    
    
    
    
    
    
    <dt>Editors:</dt>
    <dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Rufus Pollock" href="http://rufuspollock.org/">Rufus Pollock</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="https://okfn.org/">Open Knowledge</a></span>
</dd>
<dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Jeni Tennison</span>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://theodi.org/">Open Data Institute</a></span>
</dd>

    
    
      
        
          <dt>Repository:</dt>
          
             
                
                  <dd>
                    <a href="https://github.com/w3c/csvw">
                      We are on Github
                    </a>
                  </dd>
                
             
                
                  <dd>
                    <a href="https://github.com/w3c/csvw">
                      File a bug
                    </a>
                  </dd>
                
             
          
        
      
        
          <dt>Changes:</dt>
          
             
                
                  <dd>
                    <a href="https://github.com/w3c/csvw/commits/gh-pages">
                      Commit history
                    </a>
                  </dd>
                
             
          
        
      
    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2014
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), 
        
        All Rights Reserved.
        
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        
          <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a>
        
        rules apply.
      </p>
    
  
  <hr>
</div>
    <section rel="bibo:Chapter" resource="#abstract" typeof="bibo:Chapter" datatype="" property="dcterms:abstract" class="introductory" id="abstract"><h2 id="h2_abstract" role="heading" aria-level="1">Abstract</h2>
      <p>
        Validation, conversion, display and search of tabular data on the web requires additional metadata that describes how the data should be interpreted. This document defines a vocabulary for metadata that annotates tabular data. This can be used to provide metadata at various levels, from collections of data from CSV documents and how they relate to each other down to individual cells within a table.
      </p>
    </section><section rel="bibo:Chapter" resource="#sotd" typeof="bibo:Chapter" id="sotd" class="introductory"><h2 id="h2_sotd" role="heading" aria-level="1">Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication.
          Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the
          latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
          http://www.w3.org/TR/.</em>
        </p>
        
      <p>
        The CSV on the Web Working Group was chartered to produce a Recommendation "Access methods for CSV Metadata" as well as Recommendations for "Metadata vocabulary for CSV data" and "Mapping mechanism to transforming CSV into various Formats (e.g., RDF, JSON, or XML)". This document aims to primarily satisfy the second of those Recommendations.
      </p>
    
        <p>
          This document was published by the <a href="http://www.w3.org/2013/csvw/">CSV on the Web Working Group</a> as a First Public Working Draft.
          
            This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation.
          
          
            If you wish to make comments regarding this document, please send them to 
            <a href="mailto:public-csv-wg@w3.org">public-csv-wg@w3.org</a> 
            (<a href="mailto:public-csv-wg-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="http://lists.w3.org/Archives/Public/public-csv-wg/">archives</a>).
          
          
          
          
            All comments are welcome.
          
        </p>
        
        
          <p>
            Publication as a First Public Working Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr>
            Membership. This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other than work in
            progress.
          </p>
        
        
        
        <p>
          
            This document was produced by a group operating under the 
            <a id="sotd_patent" about="" rel="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
            Policy</a>.
          
          
          
            
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/68238/status" rel="disclosure">public list of any patent
              disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes
            instructions for disclosing a patent. An individual who has actual knowledge of a patent
            which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
            Claim(s)</a> must disclose the information in accordance with
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
        </p>
        
      
    
  
</section><section id="toc"><h2 id="h2_toc" role="heading" aria-level="1" class="introductory">Table of Contents</h2><ul id="respecContents" role="directory" class="toc"><li class="tocline"><a class="tocxref" href="#introduction"><span class="secno">1. </span>Introduction</a></li><li class="tocline"><a class="tocxref" href="#processing-tables"><span class="secno">2. </span>Processing Tables</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#annotating-tables"><span class="secno">2.1 </span>Annotating Tables</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#direct-annotations"><span class="secno">2.1.1 </span>Direct Annotations</a></li><li class="tocline"><a class="tocxref" href="#inherited-properties"><span class="secno">2.1.2 </span>Inherited Properties</a></li></ul></li><li class="tocline"><a class="tocxref" href="#displaying-tables"><span class="secno">2.2 </span>Displaying Tables</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#bidirectional-tables"><span class="secno">2.2.1 </span>Bidirectional Tables</a></li></ul></li><li class="tocline"><a class="tocxref" href="#validating-tables"><span class="secno">2.3 </span>Validating Tables</a></li><li class="tocline"><a class="tocxref" href="#converting-tables"><span class="secno">2.4 </span>Converting Tables</a></li></ul></li><li class="tocline"><a class="tocxref" href="#metadata-format"><span class="secno">3. </span>Metadata Format</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#syntax"><span class="secno">3.1 </span>Syntax</a></li><li class="tocline"><a class="tocxref" href="#top-level-properties"><span class="secno">3.2 </span>Top-Level Properties</a></li><li class="tocline"><a class="tocxref" href="#common-properties"><span class="secno">3.3 </span>Common Properties</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#dublin-core-terms"><span class="secno">3.3.1 </span>Dublin Core Terms</a></li><li class="tocline"><a class="tocxref" href="#links"><span class="secno">3.3.2 </span>Links</a></li><li class="tocline"><a class="tocxref" href="#other-properties"><span class="secno">3.3.3 </span>Other Properties</a></li></ul></li><li class="tocline"><a class="tocxref" href="#tables"><span class="secno">3.4 </span>Tables</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#required-properties"><span class="secno">3.4.1 </span>Required Properties</a></li><li class="tocline"><a class="tocxref" href="#optional-properties"><span class="secno">3.4.2 </span>Optional Properties</a></li></ul></li><li class="tocline"><a class="tocxref" href="#schemas"><span class="secno">3.5 </span>Schemas</a></li><li class="tocline"><a class="tocxref" href="#columns"><span class="secno">3.6 </span>Columns</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#required-properties-1"><span class="secno">3.6.1 </span>Required Properties</a></li><li class="tocline"><a class="tocxref" href="#optional-properties-1"><span class="secno">3.6.2 </span>Optional Properties</a></li></ul></li><li class="tocline"><a class="tocxref" href="#rows"><span class="secno">3.7 </span>Rows</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#required-properties-2"><span class="secno">3.7.1 </span>Required Properties</a></li><li class="tocline"><a class="tocxref" href="#optional-properties-2"><span class="secno">3.7.2 </span>Optional Properties</a></li></ul></li><li class="tocline"><a class="tocxref" href="#cells"><span class="secno">3.8 </span>Cells</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#required-properties-3"><span class="secno">3.8.1 </span>Required Properties</a></li><li class="tocline"><a class="tocxref" href="#optional-properties-3"><span class="secno">3.8.2 </span>Optional Properties</a></li><li class="tocline"><a class="tocxref" href="#inherited-properties-1"><span class="secno">3.8.3 </span>Inherited Properties</a></li><li class="tocline"><a class="tocxref" href="#datatypes"><span class="secno">3.8.4 </span>Datatypes</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#length-constraints"><span class="secno">3.8.4.1 </span>Length Constraints</a></li><li class="tocline"><a class="tocxref" href="#value-constraints"><span class="secno">3.8.4.2 </span>Value Constraints</a></li></ul></li><li class="tocline"><a class="tocxref" href="#parsing-cells"><span class="secno">3.8.5 </span>Parsing cells</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#formats-for-strings"><span class="secno">3.8.5.1 </span>Formats for strings</a></li><li class="tocline"><a class="tocxref" href="#formats-for-numeric-types"><span class="secno">3.8.5.2 </span>Formats for numeric types</a></li><li class="tocline"><a class="tocxref" href="#formats-for-booleans"><span class="secno">3.8.5.3 </span>Formats for booleans</a></li><li class="tocline"><a class="tocxref" href="#formats-for-dates-and-times"><span class="secno">3.8.5.4 </span>Formats for dates and times</a></li><li class="tocline"><a class="tocxref" href="#formats-for-durations"><span class="secno">3.8.5.5 </span>Formats for durations</a></li></ul></li><li class="tocline"><a class="tocxref" href="#additional-constraints"><span class="secno">3.8.6 </span>Additional Constraints</a></li></ul></li></ul></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><span class="secno">A. </span>Acknowledgements</a></li><li class="tocline"><a class="tocxref" href="#iana-considerations"><span class="secno">B. </span>IANA Considerations</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#registration-of-application-csvm-json"><span class="secno">B.1 </span>Registration of <code>application/csvm+json</code></a></li></ul></li><li class="tocline"><a class="tocxref" href="#json-ld-context"><span class="secno">C. </span>JSON-LD Context</a></li><li class="tocline"><a class="tocxref" href="#references"><span class="secno">D. </span>References</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><span class="secno">D.1 </span>Normative references</a></li></ul></li></ul></section>
    
    <section id="introduction">
      <!--OddPage--><h2 id="h2_introduction" role="heading" aria-level="1"><span class="secno">1. </span>Introduction</h2>
      <p>
        Interpreting tabular data that is available on the web, particularly as CSV, usually requires additional metadata. As an example, say that the following CSV file were available at <code>http://example.org/tree-ops.csv</code>
      </p>
      <div class="example"><div class="example-title"><span>Example 1</span></div><pre class="example">GID,On Street,Species,Trim Cycle,Inventory Date
1,ADDISON AV,Celtis australis,Large Tree Routine Prune,10/18/2010
2,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,6/2/2010
3,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,6/2/2010</pre></div>
      <p>
        A human consumer of this data might be able to figure out the meaning of the different columns, particularly if there were some additional human-readable documentation made available. Automated processors would have a much harder time; realistically they would be limited to displaying the information in a table. Making available machine-readable metadata helps with the interpretation of the tabular data. For example, say that the following metadata file were available at <code>http://example.org/trees-ops.csv.csvm</code>:
      </p>
      <div class="example"><div class="example-title"><span>Example 2</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"tree-ops.csv"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"@context"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"@language"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"en"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Tree Operations"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"keywords"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">"tree"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"street"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"maintenance"</span><span class="pun">],</span><span class="pln">
  </span><span class="str">"publisher"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Example Municipality"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"web"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://example.org"</span><span class="pln">
  </span><span class="pun">}],</span><span class="pln">
  </span><span class="str">"license"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://opendefinition.org/licenses/cc-by/"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"modified"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"2010-12-31"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
      </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"_:GID"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"GID"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><span class="str">"GID"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"Generic Identifier"</span><span class="pln">
      </span><span class="pun">],</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"An identifier for the operation on a tree."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"required"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"unique"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"on-street"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"On Street"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The street that the tree is on."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"species"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Species"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The species of the tree."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"trim-cycle"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Trim Cycle"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The operation performed on the tree."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"string"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"inventory-date"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Inventory Date"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The date of the operation that was performed."</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"date"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"format"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"M/D/YYYY"</span><span class="pln">
    </span><span class="pun">}],</span><span class="pln">
    </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"_:GID"</span><span class="pln">  
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div>
      <p>
        Given the location of the CSV file, this metadata file can be located by appending <code>.csvm</code> to the URL (as described in <a href="http://www.w3.org/TR/tabular-data-model/#standard-path">Model for Tabular Data and Metadata on the Web</a>). It provides information for different types of applications:
      </p>
      <ul>
        <li><strong>Viewers</strong> can use the indicated metadata to provide a more user-friendly or human-readable view of the CSV file, which might include displaying it in a table or as graphs or charts.</li>
        <li><strong>Data entry tools</strong> can use the metadata to prompt people to supply information that is added to a CSV file</li>
        <li><strong>Validators</strong> can check that the labels of the columns in the metadata file match those in the CSV file, that the values in the columns are of the right type and in the right format, and that values in the <code>GID</code> column are all present and unique.</li>
        <li><strong>Converters</strong> can use the metadata to map the CSV data into other formats such as JSON, RDF and XML, or into databases or statistical applications, in intelligent ways.</li>
        <li><strong>Data Aggregators</strong> can use the indicated metadata, such as descriptions, titles, modification dates and licences, to enable more intelligent retrieval of relevant data on the web.</li>
      </ul>
      <p>
        The <a href="http://www.w3.org/TR/tabular-data-model/">Model for Tabular Data and Metadata on the Web</a> specification defines an <a href="http://www.w3.org/TR/tabular-data-model/#annotated-model">Annotated Tabular Data Model</a> in which tables, columns, rows and cells can be annotated with properties and values, and a <a href="http://www.w3.org/TR/tabular-data-model/#grouped-model">Grouped Tabular Data Model</a> in which a group of tables is annotated. That specification also describes <a href="http://www.w3.org/TR/tabular-data-model/#metadata">how to locate metadata</a> about a given CSV file.
      </p>
      <p>
        This document defines the format and structure of metadata documents, and how these are interpreted to create an Annotated Tabular Data Model. It also defines how to validate tabular data based on some of these annotations. This metadata can be expressed as an RDF graph. However, all applications that conform to this specification (including validators and applications that read or convert tabular data) <em title="MUST" class="rfc2119">MUST</em> read the JSON-based format described in this document.
      </p>
      <div class="issue"><div id="h_issue_1" role="heading" aria-level="2" class="issue-title"><span>Issue 1</span></div><p class="">
        We are aiming for the JSON format to be interpretable as JSON-LD, but without any requirement to include context within the JSON itself (to save people from having to do boilerplate). We invite comments on the utility of this approach: is it useful for CSV metadata to be interpretable as JSON-LD? Is it helpful to be able to map it to RDF? Would it be better to rename some of the JSON-LD keywords, such as <code>@id</code> and <code>@type</code>?
      </p></div>
    </section>
    <section id="processing-tables">
      <!--OddPage--><h2 id="h2_processing-tables" role="heading" aria-level="1"><span class="secno">2. </span>Processing Tables</h2>
      <p>
        This section describes how particular types of applications should use the metadata supplied about a CSV file when they process that CSV file.
      </p>
      <section id="annotating-tables">
        <h3 id="h3_annotating-tables" role="heading" aria-level="2"><span class="secno">2.1 </span>Annotating Tables</h3>
        <p>
          The metadata defined in this specification is used to annotate an existing <a href="http://w3c.github.io/csvw/syntax/#dfn-annotated-table">annotated table</a> as defined in [<cite><a href="#bib-tabular-data-model" class="bibref">tabular-data-model</a></cite>]. Annotated tables form the basis for all further processing, such as validating or displaying the table. All compliant applications <em title="MUST" class="rfc2119">MUST</em> create annotated tables based on the algorithm defined here.
        </p>
        <p>
          Metadata documents contain descriptions of tables, columns, rows, cells and regions which are used to create annotations. There are two types of description objects:
        </p>
        <ul>
          <li>descriptions that appear within a schema, and that may apply across multiple CSV files</li>
          <li>descriptions of particular tables, columns, rows, cells and regions within a single CSV file</li>
        </ul>
        <p>
          The description objects themselves contain a number of properties. These are:
        </p>
        <ul>
          <li>properties that are used to identify the table, column, row or cell that the annotations should appear on; these match up to properties on those objects in the core tabular data model defined in [<cite><a href="#bib-tabular-data-model" class="bibref">tabular-data-model</a></cite>] and do not form additional annotations</li>
          <li>properties that map directly to annotations that appear directly on the table, column, row or cell whose description they appear on, such as the <code>name</code> of a column or the <code>provenance</code> of a table</li>
          <li>properties that are specified on the description of a table, column or row to provide a default value for the equivalent annotation on each of the cells that appear in that table, column or row</li>
        </ul>
        <p>
          For example, in the <a class="internalDFN" href="#dfn-column-description">column description</a>
        </p>
        <div class="example"><div class="example-title"><span>Example 3</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="pun">{</span><span class="pln">
  </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"inventory-date"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Inventory Date"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"The date of the operation that was performed."</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"datatype"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"date"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"format"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"M/D/YYYY"</span><span class="pln">
</span><span class="pun">}</span></pre></div>
        <p>
          the properties <code>name</code>, <code>title</code> and <code>description</code> are <a class="internalDFN" href="#dfn-direct-annotation" title="direct annotation">direct annotations</a> that become <code>name</code>, <code>title</code> and <code>description</code> properties on the column in the data model. The <code>datatype</code> and <code>format</code> properties are <a class="internalDFN" href="#dfn-inherited-property" title="inherited property">inherited properties</a> that become <code>datatype</code> and <code>format</code> properties on the cells within the column.
        </p>
        <section id="direct-annotations">
          <h4 id="h4_direct-annotations" role="heading" aria-level="3"><span class="secno">2.1.1 </span>Direct Annotations</h4>
          <p>
            <dfn id="dfn-direct-annotation" title="direct annotation">Direct annotations</dfn> are properties on the description object for a given table, column, row or cell which map directly to properties on the described table, column, row or cell. The name of the annotation is the same as the name of the property on the annotation. The value of the annotation is the same as the value of the property on the description object.
          </p>
        </section>
        <section id="inherited-properties">
          <h4 id="h4_inherited-properties" role="heading" aria-level="3"><span class="secno">2.1.2 </span>Inherited Properties</h4>
          <p>
            A cell may be assigned annotations based on properties on the description objects for the table, column or row that it appears in. These properties are known as <dfn id="dfn-inherited-property" title="inherited property">inherited properties</dfn> and are listed in <a href="#cells" class="sectionRef sec-ref">section <span class="secno">3.8</span> <span class="sec-title">Cells</span></a>. To ascertain a value for these annotations, an application <em title="MUST" class="rfc2119">MUST</em> identify the relevant property in the descriptions of the table, column and row.
          </p>
          <p>
            Applications <em title="MUST" class="rfc2119">MUST</em> raise an error if the value of a property in a column or row description is not <a class="internalDFN" href="#dfn-compatible-with">compatible with</a> the value of that property on the table. Applications <em title="MUST" class="rfc2119">MUST</em> raise an error if the value of a property on a row is not <a class="internalDFN" href="#dfn-compatible-with">compatible with</a> the values of that property on all the columns in the table. Application <em title="MUST" class="rfc2119">MUST</em> raise an error if the value of a property on a cell is not <a class="internalDFN" href="#dfn-compatible-with">compatible with</a> the values of that property on both the column and the row that the cell is associated with.
          </p>
          <p>
            A value for a cell, column or row is <dfn id="dfn-compatible-with">compatible with</dfn> with a value on a row, column or table if they are the same value or if the first value is a sub-value of the second value. The definitions of individual inherited properties indicate what values count as sub-values of others.
          </p>
        </section>
      </section>
      <section id="displaying-tables">
        <h3 id="h3_displaying-tables" role="heading" aria-level="2"><span class="secno">2.2 </span>Displaying Tables</h3>
        <div class="issue"><div id="h_issue_2" role="heading" aria-level="3" class="issue-title"><span>Issue 2</span></div><div class="">
          <p>
            We intend to include other sections here about:
          </p>
          <ul>
            <li>displaying metadata about tables, columns, rows, cells and regions</li>
            <li>what headings to use for columns when displaying tabular content</li>
            <li>how to format values in cells</li>
          </ul>
          <p>
            Much of this is likely to be non-normative. We invite comment on whether it's useful to provide this kind of guidance.
          </p>
        </div></div>
        <section id="bidirectional-tables">
          <h4 id="h4_bidirectional-tables" role="heading" aria-level="3"><span class="secno">2.2.1 </span>Bidirectional Tables</h4>
          <p>
            There are two levels of bidirectionality to consider when displaying tables: the directionality of the table (ie whether the columns should be arranged left-to-right or right-to-left) and the directionality of the content of individual cells.
          </p>
          <p>
            The <a href="#table-direction"><code>table-direction</code> property</a> provides information about the desired display of the table. If <code>table-direction=ltr</code> then the first column <em title="SHOULD" class="rfc2119">SHOULD</em> be displayed on the left and the last column on the right. If <code>table-direction=rtl</code> then the first column <em title="SHOULD" class="rfc2119">SHOULD</em> be displayed on the right and the last column on the left.
          </p>
          <p>
            If <code>table-direction=default</code> then tables <em title="SHOULD" class="rfc2119">SHOULD</em> be displayed with attention to the bidirectionality of the content of the file. Specifically, the values of the cells in the table should be scanned breadth first: from the first cell in the first column through to the last cell in the first column, down to the last cell in the last column. If the first character in the table with a <a href="http://unicode.org/reports/tr9/#Bidirectional_Character_Types">strong type</a> as defined in [<cite><a href="#bib-UNICODE-BIDI" class="bibref">UNICODE-BIDI</a></cite>] indicates a <abbr title="right-to-left">RTL</abbr> directionality, the table should be displayed with the first column on the right and the last column on the left. Otherwise, the table should be displayed with the first column on the left and the last column on the right. Characters such as whitespace, quotes, commas and numbers do not have a strong type, and therefore are skipped when identifying the character that determines the directionality of the table.
          </p>
          <p>
            Implementations <em title="SHOULD" class="rfc2119">SHOULD</em> enable user preferences to override the indicated metadata about the directionality of the table.
          </p>
          <p>
            Once the directionality of the table has been determined, each cell within the table should be considered as a separate <a href="http://unicode.org/reports/tr9/#The_Paragraph_Level">paragraph</a>, as defined by the <abbr title="Unicode Bidirectional Algorithm">UBA</abbr> in [<cite><a href="#bib-UNICODE-BIDI" class="bibref">UNICODE-BIDI</a></cite>]. The default directionality for the cell is determined by looking at the <a href="#cell-text-direction"><code>text-direction</code> property</a>, which is an <a class="internalDFN" href="#dfn-inherited-property">inherited property</a>.
          </p>
          <p>
            Thus, as defined by the <abbr title="Unicode Bidirectional Algorithm">UBA</abbr>, if a cell contains no characters with a strong type (if it's a number or date for example) then the way the cell is displayed should be determined by the <a href="#cell-text-direction"><code>text-direction</code> property</a> of the cell. However, when the cell contains characters with a strong type (such as letters) then they <em title="MUST" class="rfc2119">MUST</em> be displayed according to the Unicode Bidirectional Algorithm as described in [<cite><a href="#bib-UNICODE-BIDI" class="bibref">UNICODE-BIDI</a></cite>].
          </p>
        </section>
      </section>
      <section id="validating-tables">
        <h3 id="h3_validating-tables" role="heading" aria-level="2"><span class="secno">2.3 </span>Validating Tables</h3>
        <div class="issue"><div id="h_issue_3" role="heading" aria-level="3" class="issue-title"><span>Issue 3</span></div><p class="">
          We intend to detail how to validate a CSV file against metadata. This would be normative: compliant validators would have to report the errors and warnings that we define. We invite comment on whether this is a useful thing to specify.
        </p></div>
      </section>
      <section id="converting-tables">
        <h3 id="h3_converting-tables" role="heading" aria-level="2"><span class="secno">2.4 </span>Converting Tables</h3>
        <p>
          Conversions of tabular data to other formats operate over a <a href="http://w3c.github.io/csvw/syntax/#dfn-annotated-table">annotated table</a> constructed as defined in <a href="#annotating-tables" class="sectionRef sec-ref">section <span class="secno">2.1</span> <span class="sec-title">Annotating Tables</span></a>. The mechanics of these conversions to other formats are defined in other specifications.
        </p>
        <p>
          Conversion specifications <em title="MUST" class="rfc2119">MUST</em> define a default mapping from an annotated table that lacks any annotations (ie that is equivalent to an un-annotated table).
        </p>
        <p>
          Conversion specifications <em title="MUST" class="rfc2119">MUST</em> use the <a href="#column-name"><code>name</code> of a column</a> as the basis for naming machine-readable fields in the target format, such as the name of the equivalent element or attribute in XML, property in JSON or property URI in RDF.
        </p>
        <p>
          Conversion specifications <em title="MAY" class="rfc2119">MAY</em> use any of the properties defined in this specification to adjust the mapping of an annotated table into another format.
        </p>
        <p>
          Conversion specifications <em title="MAY" class="rfc2119">MAY</em> define additional properties, not defined in this specification, which are specifically used when converting to the target format of the conversion. For example, a conversion to XML might specify a <code>element-or-attribute</code> property on columns that determines whether a particular column is represented through an element or an attribute in the data.
        </p>
        <p>
          Conversion specifications <em title="SHOULD" class="rfc2119">SHOULD</em> specify format-specific properties specifying external processing steps to provide more control to people defining conversions. If these are specified, the conversion specification <em title="MUST" class="rfc2119">MUST</em> specify at what point in the processing this external processing takes place, and what it takes place on. Examples might be:
        </p>
        <ul>
          <li>the URL of an XSLT file that is used to process XML after it is generated</li>
          <li>a string containing a SPARQL CONSTRUCT pattern that is executed on RDF after it is generated</li>
          <li>properties that contain definitions of Javascript callback functions that are used when processing particular columns or individual rows</li>
        </ul>
      </section>
    </section>
    <section id="metadata-format">
      <!--OddPage--><h2 id="h2_metadata-format" role="heading" aria-level="1"><span class="secno">3. </span>Metadata Format</h2>
      <p>
        This section defines a set of properties and permitted values for annotating tabular data, and how these annotations should be interpreted by applications.
      </p>
      <div class="issue"><div id="h_issue_4" role="heading" aria-level="2" class="issue-title"><span>Issue 4</span></div><p class="">
        We intend to support metadata for packages. In this version of this specification, we are scoping to single metadata files defining single CSV files.
      </p></div>
      <section id="syntax">
        <h3 id="h3_syntax" role="heading" aria-level="2"><span class="secno">3.1 </span>Syntax</h3>
        <p>
          A metadata document is a JSON document which holds an object at the top level. This object is a <a class="internalDFN" href="#dfn-description-object">description object</a> of a table. A <dfn id="dfn-description-object">description object</dfn> is a JSON object that describes a component of a table (a table, a column, a row or a cell) and has one or more properties are mapped into properties on that component. There are different types of properties on description objects:
        </p>
        <dl>
          <dt><dfn id="dfn-link-property" title="link property">link properties</dfn></dt>
          <dd>
            <p>These hold one or more references to other resources by URL. Their values may be:</p>
            <ul>
              <li><strong>strings</strong> — resolved as URLs against the <a class="internalDFN" href="#dfn-base-url">base URL</a></li>
              <li><strong>arrays</strong> — lists of strings which are resolved as URLs against the <a class="internalDFN" href="#dfn-base-url">base URL</a></li>
            </ul>
            <p>
              For example, the <code>hasVersion</code> property is a link property. A <a class="internalDFN" href="#dfn-table-description">table description</a> might contain:
            </p>
            <div class="example"><div class="example-title"><span>Example 4</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"hasVersion"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"example-2014-01-03.csv"</span></pre></div>
            <p>
              in which case the <code>hasVersion</code> property on the table would have a single value, a link to <code>example-2014-01-03.csv</code>, or it might contain:
            </p>
            <div class="example"><div class="example-title"><span>Example 5</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"hasVersion"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="str">"example-2014-01-03.csv"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"example-2014-01-17.csv"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"example-2014-01-25.csv"</span><span class="pln">
</span><span class="pun">]</span></pre></div>
            <p>
              in which case the <code>hasVersion</code> property on the table would have three values, links to other versions of the table.
            </p>
          </dd>
          <dt><dfn id="dfn-internal-reference-property" title="internal reference property">internal reference properties</dfn></dt>
          <dd>
            <p>These hold one or more references to other description objects. The referenced description object must have an <code>@id</code> property whose value looks like <code>_:<var>name</var></code>. Internal reference properties can then reference other description objects through values that are:</p>
            <ul>
              <li><strong>strings</strong> — in the format <code>_:<var>name</var></code> which <em title="MUST" class="rfc2119">MUST</em> match the <code>@id</code> on another description object within the metadata document</li>
              <li><strong>arrays</strong> — lists of strings as above</li>
            </ul>
            <p>
              For example, the <code>primaryKey</code> property is an internal reference property on the schema. It has to hold references to columns defined elsewhere in the schema, and the descriptions of those columns must have <code>@id</code> properties. It can hold a single reference, like this:
            </p>
            <div class="example"><div class="example-title"><span>Example 6</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"_:GID"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"GID"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">],</span><span class="pln">
  </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"_:GID"</span><span class="pln">
</span><span class="pun">}</span></pre></div>
            <p>
              or it can contain an array of references, like this:
            </p>
            <div class="example"><div class="example-title"><span>Example 7</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"schema"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"columns"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">
    </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"_:givenName"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"givenName"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"@id"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"_:familyName"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"familyName"</span><span class="pln">
  </span><span class="pun">},</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">],</span><span class="pln">
  </span><span class="str">"primaryKey"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">"_:givenName"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_:familyName"</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></pre></div>
          </dd>
          <dt><dfn id="dfn-object-property" title="object property">object properties</dfn></dt>
          <dd>
            <p>These hold one or more objects or references to objects by URL. Their values may be:</p>
            <ul>
              <li><strong>strings</strong> — resolved as URLs against the <a class="internalDFN" href="#dfn-base-url">base URL</a></li>
              <li><strong>objects</strong> — interpreted as structured objects</li>
              <li><strong>arrays</strong> — lists of strings and/or objects</li>
            </ul>
            <p>
              Object properties are often used when the values can be or should be values within controlled vocabularies, or structured information which may be held elsewhere. For example, the <code>creator</code> of a table is an object property. It could be provided as a URL that indicates the creator, like this:
            </p>
            <div class="example"><div class="example-title"><span>Example 8</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"creator"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://ons.gov.uk"</span></pre></div>
            <p>
              or a structured object, like this:
            </p>
            <div class="example"><div class="example-title"><span>Example 9</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"creator"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Office of National Statistics"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"url"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://ons.gov.uk"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"email"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"info@ons.gsi.gov.uk"</span><span class="pln">
</span><span class="pun">}</span></pre></div>
          </dd>
          <dt><dfn id="dfn-natural-language-property" title="natural language property">natural language properties</dfn></dt>
          <dd>
            <p>These hold natural language strings. Their values may be:</p>
            <ul>
              <li><strong>strings</strong> — interpreted as natural language strings in the <a class="internalDFN" href="#dfn-default-language">default language</a></li>
              <li><strong>arrays</strong> — interpreted as alternative natural language strings in the <a class="internalDFN" href="#dfn-default-language">default language</a></li>
              <li><strong>objects</strong> whose properties <em title="MUST" class="rfc2119">MUST</em> be language codes as defined by [<cite><a href="#bib-RFC3066" class="bibref">RFC3066</a></cite>] and whose values are either strings or arrays, providing natural language strings in that language</li>
            </ul>
            <p>
              Natural language properties are used for things like descriptions and titles. For example, the <code>title</code> property provides a natural language label for a column. If it's a plain string like this:
            </p>
            <div class="example"><div class="example-title"><span>Example 10</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Project title"</span></pre></div>
            <p>
              then that string is assumed to be in the language provided through the <code>@language</code> property of the nearest <code>@context</code> (or have no assumed language, if there is no such property). Multiple alternative values can be given in an array:
            </p>
            <div class="example"><div class="example-title"><span>Example 11</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="str">"Project title"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"Project"</span><span class="pln">
</span><span class="pun">]</span></pre></div>
            <p>
              It's also possible to provide multiple values in different languages, using an object structure. For example:
            </p>
            <div class="example"><div class="example-title"><span>Example 12</span></div><pre style="" class="example highlight prettyprint prettyprinted"><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"en"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Project title"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"fr"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Titre du projet"</span><span class="pln">
</span><span class="pun">}</span></pre></div>
            <div class="issue"><div id="h_issue_5" role="heading" aria-level="3" class="issue-title"><span>Issue 5</span></div><p class="">
              We invite comment on whether it would be useful to enable some markup in natural language strings, for example by stating that they are interpreted as HTML or Markdown.
            </p></div>
          </dd>
          <dt><dfn id="dfn-atomic-property" title="atomic property">atomic properties</dfn></dt>
          <dd>
            <p>These hold atomic values. Their values may be:</p>
            <ul>
              <li><strong>numbers</strong> — interpreted as integers or doubles</li>
              <li><strong>booleans</strong> — interpreted as booleans (<code>true</code> or <code>false</code>)</li>
              <li><strong>strings</strong> — interpreted as defined by the property</li>
              <li><strong>arrays</strong> — lists of numbers, booleans or strings</li>
            </ul>
            <div class="note"><div id="h_note_1" role="heading" aria-level="3" class="note-title"><span>Note</span></div><p class="">
              JSON does not have date or time types. Where a property takes a date as a value, this <em title="MUST" class="rfc2119">MUST</em> be a string in the format <code>YYYY-MM-DD</code>.
            </p></div>
          </dd>
        </dl>
      </section>
      <section id="top-level-properties">
        <h3 id="h3_top-level-properties" role="heading" aria-level="2"><span class="secno">3.2 </span>Top-Level Properties</h3>
        <p>
          The top-level object <em title="MAY" class="rfc2119">MAY</em> have a <code>@context</code> property. This holds an object that provides metadata for interpreting other properties, namely:
        </p>
        <dl>
          <dt><code>@language</code></dt>
          <dd>
            <p>
              indicates the default language for the values of properties in the description; if present, its value <em title="MUST" class="rfc2119">MUST</em> be a language code [<cite><a href="#bib-RFC3066" class="bibref">RFC3066</a></cite>] which is the <dfn id="dfn-default-language">default language</dfn> for the values of other properties in the metadata document
            </p>
            <div class="note"><div id="h_note_2" role="heading" aria-level="3" class="note-title"><span>Note</span></div><p class="">
              Note that the <code>@language</code> property of the <code>@context</code> object, which gives the default language used within the metadata file, is distinct from the <code>language</code> property on a <a class="internalDFN" href="#dfn-description-object">description object</a>, which gives the language used in the data within the table.
            </p></div>
          </dd>
          <dt><code>@base</code></dt>
          <dd>
            <p>
              indicates the base URL against which other URLs within the description are resolved; if present, its value <em title="MUST" class="rfc2119">MUST</em> be a URL which is resolved against the base URL of the metadata document (the location from which it was retrieved) to provide the <dfn id="dfn-base-url">base URL</dfn> for other URLs in the metadata document
            </p>
            <div class="note"><div id="h_note_3" role="heading" aria-level="3" class="note-title"><span>Note</span></div><p class="">
              Note that the <code>@base</code> property of the <code>@context</code> object provides the base URL used for URLs within the metadata document, not the URLs that appear within the table.
            </p></div>
          </dd>
        </dl>
      </section>
      <section id="common-properties">
        <h3 id="h3_common-properties" role="heading" aria-level="2"><span class="secno">3.3 </span>Common Properties</h3>
        <p>
          The properties listed here may be applied to any structure within the tabular data model: tables, columns, rows or cells.
        </p>
        <div class="issue"><div id="h_issue_6" role="heading" aria-level="3" class="issue-title"><span>Issue 6</span></div><p class="">
          We invite comment on whether there are other standard metadata vocabularies that should be reused within this specification.
        </p></div>
        <section id="dublin-core-terms">
          <h4 id="h4_dublin-core-terms" role="heading" aria-level="3"><span class="secno">3.3.1 </span>Dublin Core Terms</h4>
          <p>
            Descriptions <em title="MAY" class="rfc2119">MAY</em> contain any properties defined by [<cite><a href="#bib-DC-TERMS" class="bibref">DC-TERMS</a></cite>] to describe the table. This specification does not define any application behaviour associated with these properties being present, except that validation of metadata files <em title="MUST" class="rfc2119">MUST</em> check that, if they are present, they adhere to the syntax defined here.
          </p>
          <table>
            <thead>
              <tr><th>Property</th><th>Type</th><th>Details</th></tr>
            </thead>
            <tbody><tr><th><code>abstract</code></th><td><a class="internalDFN" href="#dfn-natural-language-property">natural language property</a></td><td></td></tr>
            <tr><th><code>accessRights</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>accrualMethod</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>accrualPeriodicity</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>accrualPolicy</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>alternative</code></th><td><a class="internalDFN" href="#dfn-natural-language-property">natural language property</a></td><td></td></tr>
            <tr><th><code>audience</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>available</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
            <tr><th><code>bibliographicCitation</code></th><td><a class="internalDFN" href="#dfn-natural-language-property">natural language property</a></td><td></td></tr>
            <tr><th><code>conformsTo</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>contributor</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>coverage</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>created</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
            <tr><th><code>creator</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>date</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
            <tr><th><code>dateAccepted</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
            <tr><th><code>dateCopyrighted</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
            <tr><th><code>dateSubmitted</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
            <tr><th><code>description</code></th><td><a class="internalDFN" href="#dfn-natural-language-property">natural language property</a></td><td></td></tr>
            <tr><th><code>educationLevel</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>extent</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>format</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>hasFormat</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>hasPart</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>hasVersion</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>identifier</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>a URL</td></tr>
            <tr><th><code>instructionalMethod</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>isFormatOf</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>isPartOf</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>isReferencedBy</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>isReplacedBy</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>isRequiredBy</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>issued</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
            <tr><th><code>isVersionOf</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>language</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>a language code as defined by [<cite><a href="#bib-RFC3066" class="bibref">RFC3066</a></cite>]; this is an <a class="internalDFN" href="#dfn-inherited-property">inherited property</a></td></tr>
            <tr><th><code>license</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>mediator</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>medium</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>modified</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
            <tr><th><code>provenance</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>publisher</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>references</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>relation</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>replaces</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>requires</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>rights</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>rightsHolder</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>source</code></th><td><a class="internalDFN" href="#dfn-link-property">link property</a></td><td></td></tr>
            <tr><th><code>spatial</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>subject</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>tableOfContents</code></th><td><a class="internalDFN" href="#dfn-natural-language-property">natural language property</a></td><td></td></tr>
            <tr><th><code>temporal</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>title</code></th><td><a class="internalDFN" href="#dfn-natural-language-property">natural language property</a></td><td></td></tr>
            <tr><th><code>type</code></th><td><a class="internalDFN" href="#dfn-object-property">object property</a></td><td></td></tr>
            <tr><th><code>valid</code></th><td><a class="internalDFN" href="#dfn-atomic-property">atomic property</a></td><td>dates in the format <code>YYYY-MM-DD</code></td></tr>
          </tbody></table>
        </section>
        <section id="links">
          <h4 id="h4_links" role="heading" aria-level="3"><span class="secno">3.3.2 </span>Links</h4>
          <p>
            Description <em title="MAY" class="rfc2119">MAY</em> include properties for registered <a href="http://www.iana.org/assignments/link-relations/link-relations.xhtml">link relations</a>, prefixed by <code>link:</code>. This specification does not define any application behaviour associated with these properties being present, except that validation of metadata files <em title="MUST" class="rfc2119">MUST</em> check that, if they are present, they have values that are URLs or arrays of URLs. The following properties are particularly relevant to tabular data:
          </p>
          <ul>
            <li><code>link:alternate</code></li>
            <li><code>link:canonical</code></li>
            <li><code>link:collection</code></li>
            <li><code>link:duplicate</code></li>
            <li><code>link:glossary</code></li>
            <li><code>link:help</code></li>
            <li><code>link:icon</code></li>
            <li><code>link:last</code></li>
            <li><code>link:latest-version</code></li>
            <li><code>link:next</code></li>
            <li><code>link:original</code></li>
            <li><code>link:predecessor-version</code></li>
            <li><code>link:prev</code> or <code>link:previous</code></li>
            <li><code>link:preview</code></li>
            <li><code>link:profile</code></li>
            <li><code>link:related</code></li>
            <li><code>link:search</code></li>
            <li><code>link:self</code></li>
            <li><code>link:start</code></li>
            <li><code>link:successor-version</code></li>
            <li><code>link:terms-of-service</code></li>
            <li><code>link:up</code></li>
            <li><code>link:version-history</code></li>
            <li><code>link:working-copy</code></li>
            <li><code>link:working-copy-of</code></li>
          </ul>
          <div class="note"><div id="h_note_4" role="heading" aria-level="4" class="note-title"><span>Note</span></div><p class="">
            Unlike the Dublin Core terms, link relations are an ever-expanding list and there may eventually be clashes between link relation terms and those defined above. That's why the above list uses QNames for all link relations, so that they look like <code>link:<var>relation</var></code> rather than plain <code><var>relation</var></code>.
          </p></div>
        </section>
        <section id="other-properties">
          <h4 id="h4_other-properties" role="heading" aria-level="3"><span class="secno">3.3.3 </span>Other Properties</h4>
          <dl>
            <dt id="cell-text-direction"><code>text-direction</code></dt>
            <dd>
              <p>
                One of <code>"rtl"</code> or <code>"ltr"</code> (the default). Indicates whether the text within cells should be displayed by default as left-to-right or right-to-left text. See <a href="#bidirectional-tables" class="sectionRef sec-ref">section <span class="secno">2.2.1</span> <span class="sec-title">Bidirectional Tables</span></a> for more details.
              </p>
            </dd>
          </dl>
        </section>
      </section>
      <!--
      <section>
        <h3>Table Groups</h3>
        <p>
          Groups of tabular data files are often provided within a self-contained package, though they do not have to be.
        </p>
        <p class="note">
          The following is a more-or-less direct copy from <a href="http://dataprotocols.org/data-packages/">Data Package Format</a>, with added issues.
        </p>
        <section>
          <h4>Required Fields</h4>
          <p>A valid metadata document MUST include the following fields:</p>
          <ul>
            <li>
              <p><code>name</code> (required) - short url-usable (and preferably human-readable) name of
          the package. This MUST be lower-case and contain only alphanumeric characters
          along with “.”, “_” or “-“ characters. It will function as a unique
          identifier and therefore SHOULD be unique in relation to any registry in
          which this package will be deposited (and preferably globally unique).</p>

              <p>The name SHOULD be invariant, meaning that it SHOULD NOT change when a data
          package is updated, unless the new package version should be considered a
          distinct package, e.g. due to significant changes in structure or
          interpretation. Version distinction SHOULD be left to the version field. As
          a corollary, the name also SHOULD NOT include an indication of time range
          covered.</p>
            </li>
          </ul>
          <p class="issue">
            The requirement for a name seems more like a requirement for metadata used within a package registry than when interpreting CSV files (which might or might not be in a package). Should <code>name</code> be required? Should it have the syntactic constraints described above?
          </p>
          <p>In addition to the above fields, it is recommended that the following fields SHOULD 
        be included in every package descriptor:</p>
          <p class="issue">
            There are four levels of requirement here: MUST, SHOULD, MAY ("recommended") and optional. In practice, given that the metadata is completely extensible, there are probably only two practical levels: required (ie if the annotation is absent anything validating the metadata file MUST raise an error) and optional, so probably worth reclassifying in that way. Should anything be required?
          </p>
          <ul>
            <li>
              <p><code>resources</code> - a JSON array of hashes that describe the contents of 
          the package. The structure of the resource hash is described in the “Resource Information”
          section.</p>
              <p class="issue">
                This should be reworded not to be reliant as a property, not reliant on JSON.
              </p>
            </li>
            <li>
              <p><code>license</code> (or <code>licenses</code>) - is a field specifying the license (or licenses)
          under which the package is provided. You MAY specify either a <code>license</code> field
          or a <code>licenses</code> field but NOT both.</p>
              <p class="issue">
                Suggest having a single annotation (<code>license</code>) and leaving the pluralisation to the JSON serialisation.
              </p>
              <p><strong>This property is not legally binding and does not necessarily mean your
          package is licensed under the terms you define in this property.</strong></p>
              <p class="issue">
                Not clear what the point is of providing licence information in the metadata file if it can't be interpreted by receivers of the metadata as indicating the licence that the data is being made available under?
              </p>
              <ul>
                <li>
                  <p><code>license</code> MUST be a string and its value SHOULD be an <a href="http://licenses.opendefinition.org/">Open Definition license
          ID</a> (preferably one that is <a href="http://opendefinition.org/licenses/">Open Definition
          approved</a>.</p>

                  <pre><code>{ "license" : "PDDL-1.0" }
          </code></pre>
                  <p class="issue">
                    Constrain to a URL instead?
                  </p>
                </li>
                <li>
                  <p><code>licenses</code> MUST be an array. Each entry MUST be a hash with a <code>type</code> and a
          <code>url</code> property linking to the actual text. The <code>type</code> SHOULD be an [Open
          Definition license ID][od-license] if an ID exists for the license and
          otherwise may be the general license name or identifier. Here is an
          Example:</p>

                  <pre><code>"licenses": [{
            "type": "PDDL-1.0",
            "url": "http://opendatacommons.org/licenses/pddl/"
          }]
          </code></pre>
                </li>
              </ul>
            </li>
            <li>
              <p><code>datapackage_version</code> - the version of the data package specification this
          datapackage.json conforms to. It should follow the Semantic Versioning
          requirements (http://semver.org/). The current version of this specification is given at 
          the top of this document.</p>
              <p class="issue">
                This should probably be a serialisation thing rather than a metadata property, as it's about the format of the metadata file rather than of the group of tables.
              </p>
            </li>
          </ul>
        </section>
        <section>
          <h4>Recommended Fields</h3>
          <p class="issue">
            Align these to Dublin Core / DCAT?
          </p>
          <p>Additionally, a package descriptor MAY include the following keys and values:</p>
          <ul>
            <li><code>title</code> - a title or one sentence description for this package</li>
            <li><code>description</code> - a description of the package. The first paragraph (up to the
          first double line break should be usable as summary information for the package)</li>
            <li><code>homepage</code> - URL string for the data packages web site</li>
            <li><code>version</code> - a version string identifying the version of the package. It should conform to the Semantic Versioning requirements
          (http://semver.org/).</li>
            <li>
              <p><code>sources</code> - an array of source hashes. Each source hash may have <code>name</code>, <code>web</code> and <code>email</code> fields. Example:</p>

              <pre><code>"sources": [{
            "name": "World Bank and OECD",
            "web": "http://data.worldbank.org/indicator/NY.GDP.MKTP.CD"
          }]
          </code></pre>
            </li>
            <li><code>keywords</code> - an Array of string keywords to assist users searching for the
          package in catalogs.</li>
            <li><code>image</code> - a link to an image to use for this data package</li>
          </ul>
        </section>
        <section>
          <h4>Optional Fields</h4>
          <p class="issue">
            Align these to Dublin Core / DCAT?
          </p>
          <ul>
            <li><code>maintainers</code> - Array of maintainers of the package. Each maintainer is a hash
          which must have a “name” property and may optionally provide “email” and
          “web” properties.</li>
            <li>
              <p><code>contributors</code> - an Array of hashes each containing the details of a
          contributor. Must contain a ‘name’ property and MAY contain an email and web
          property. By convention, the first contributor is the original author of the
          package. Example:</p>

              <pre><code>"contributors":[ {
            "name": "Joe Bloggs",
            "email": "joe@bloggs.com",
            "web": "http://www.bloggs.com"
          }]
          </code></pre>
            </li>
            <li><code>publisher</code> - like contributors </li>
            <li><code>base</code> - a base URI used to resolve <code>resources</code> that specify relative paths in
          the event that the actual data files specified by those resource paths are not
          located in the same directory in which the descriptor file (<code>datapackage.json</code>)
          resides.</li>
            <li>
              <p><code>dataDependencies</code> - Hash of prerequisite data packages on which this package
          depends in order to install. Follows same format as CommonJS Packages spec
          v1.1.Each dependency defines the lowest compatible MAJOR[.MINOR[.PATCH]]
          dependency versions (only one per MAJOR version) with which the package has
          been tested and is assured to work. The version may be a simple version
          string (see the version property for acceptable forms), or it may be a hash
          group of dependencies which define a set of options, any one of which
          satisfies the dependency. The ordering of the group is significant and
          earlier entries have higher priority. Example:</p>

              <pre><code>"dataDependencies": {
             "country-codes": "",
             "unemployment": "2.1",
             "geo-boundaires": {
               "acmecorp-geo-boundaries": ["1.0", "2.0"],
               "othercorp-geo-boundaries": "0.9.8",
             },
          }
          </code></pre>
              <p class="issue">
                This is again about package management rather than interpretation of tabular data, so suggest omitting it from this specification.
              </p>
            </li>
          </ul>

          <div class="note">
            <p>NOTE: A Data Package author MAY add any number of additional fields beyond those
          listed in the specification here.  For example, suppose you were storing
          time series data and want to list the temporal coverage of the data in the
          Data Package you could add a field <code>temporal</code> (cf <a href="http://dublincore.org/documents/usageguide/qualifiers.shtml#temporal">Dublin Core</a>):</p>

            <pre><code>"temporal": {
            "name": "19th Century",
            "start": "1800-01-01",
            "end": "1899-12-31"
          }
          </code></pre>

            <p>This flexibility enables specific communities to extend Data Packages as
          appropriate for the data they manage. As an example, the <a href="/tabular-data-package/">Tabular Data
          Package</a> specification extends Data Package to the case
          where all the data is tabular and stored in CSV.</p>
          </div>
        </section>
      </section>
    -->
      <section id="tables">
        <h3 id="h3_tables" role="heading" aria-level="2"><span class="secno">3.4 </span>Tables</h3>
        <p>
          A <dfn id="dfn-table-description">table description</dfn> is a JSON object that describes a table within a CSV file.
        </p>
        <div class="issue"><div id="h_issue_7" role="heading" aria-level="3" class="issue-title"><span>Issue 7</span></div><p class="">
          A CSV file might not be the same as the table that it contains. For example, a given CSV file might contain two tables (in different regions of the CSV file), or might contain a table that isn't positioned at the top left of the CSV file. We invite comment about whether we should assume that pre-processing is used to extract tables where there isn't a 1:1 correspondence between CSV file and table, or not.
        </p></div>
        <section id="required-properties">
          <h4 id="h4_required-properties" role="heading" aria-level="3"><span class="secno">3.4.1 </span>Required Properties</h4>
          <dl>
            <dt id="table-id"><code>@id</code></dt>
            <dd>
              <p>
                This gives the URL of the CSV file that the table is held in, relative to the location of the metadata document.
              </p>
            </dd>
          </dl>
        </section>
        <section id="optional-properties">
          <h4 id="h4_optional-properties" role="heading" aria-level="3"><span class="secno">3.4.2 </span>Optional Properties</h4>
          <p>
            The description of a table <em title="MAY" class="rfc2119">MAY</em> also contain:
          </p>
          <dl>
            <dt id="table-ld-type"><code>@type</code></dt>
            <dd>
              If included, <code>@type</code> <em title="MUST" class="rfc2119">MUST</em> be set to <code>"Table"</code>. Publishers <em title="MAY" class="rfc2119">MAY</em> include this to provide additional information to JSON-LD based toolchains.
            </dd>
            <dt id="table-direction"><code>table-direction</code></dt>
            <dd>
              <p>
                One of <code>"rtl"</code>, <code>"ltr"</code> or <code>"default"</code>. Indicates whether the table should be displayed with the first column on the right, on the left, or based on the first character in the table that has a specific direction. See <a href="#bidirectional-tables" class="sectionRef sec-ref">section <span class="secno">2.2.1</span> <span class="sec-title">Bidirectional Tables</span></a> for more details.
              </p>
              <div class="issue"><div id="h_issue_8" role="heading" aria-level="4" class="issue-title"><span>Issue 8</span></div><p class="">
                This should be a defined controlled vocabulary in JSON-LD, so that the values map on to URIs in the RDF version rather than strings. We invite comment on how to configure the JSON-LD context to enable these values to be interpreted in this way.
              </p></div>
            </dd>
            <dt id="table-schema"><code>schema</code></dt>
            <dd>
              An <a class="internalDFN" href="#dfn-object-property">object property</a> that provides a <a class="internalDFN" href="#dfn-schema-description">schema description</a> as described in <a href="#schemas" class="sectionRef sec-ref">section <span class="secno">3.5</span> <span class="sec-title">Schemas</span></a>. This may be provided as an embedded object within the JSON metadata or as a URL reference to a separate JSON schema document.
            </dd>
            <dt id="table-notes"><code>notes</code></dt>
            <dd>
              An <a class="internalDFN" href="#dfn-object-property">object property</a>, usually an array, of annotation objects. An <dfn id="dfn-annotation-object">annotation object</dfn> is an object that holds general annotations about a particular column, row, cell or region of the table. Each annotation object <em title="MUST" class="rfc2119">MUST</em> have an <code>@id</code> property that references the relevant column, row, cell or region of the table using a fragment identifier. It <em title="MAY" class="rfc2119">MAY</em> have any other common properties as described in <a href="#common-properties" class="sectionRef sec-ref">section <span class="secno">3.3</span> <span class="sec-title">Common Properties</span></a>.
            </dd>
          </dl>
          <div class="issue"><div id="h_issue_9" role="heading" aria-level="4" class="issue-title"><span>Issue 9</span></div><div class="">
            <p>
              We intend to add a small subset of properties that indicate how a CSV file should be parsed, specifically those that mirror the existing distinction between the media types for <code>text/csv</code> and <code>text/tab-separated-values</code>, and the media type parameters that they allow, namely:
            </p>
            <ul>
              <li><code>separator</code> to give the character used as the separator in the tabular data file</li>
              <li><code>encoding</code> to specify the encoding used in the file</li>
              <li><code>header</code> to specify whether or not a header line is present</li>
            </ul>
            <p>
              We invite comment about whether these are the right properties to specify.
            </p>
          </div></div>
          <div class="issue"><div id="h_issue_10" role="heading" aria-level="4" class="issue-title"><span>Issue 10</span></div><p class="">
            We invite comment on whether we should include properties that help in checking the integrity of the file: datapackage includes <code>bytes</code> and <code>hash</code>. We could reuse the <a href="http://www.w3.org/TR/SRI/">Subresource Integrity</a> work here.
          </p></div>
          <p>
            The description <em title="MAY" class="rfc2119">MAY</em> contain any of the properties defined in <a href="#common-properties" class="sectionRef sec-ref">section <span class="secno">3.3</span> <span class="sec-title">Common Properties</span></a> to describe the table. As well as links to other related tables, the following common properties are particularly suitable for tables:
          </p>
          <ul>
            <li><code>created</code></li>
            <li><code>creator</code></li>
            <li><code>description</code></li>
            <li><code>language</code></li>
            <li><code>license</code></li>
            <li><code>modified</code></li>
            <li><code>provenance</code></li>
            <li><code>publisher</code></li>
            <li><code>rights</code></li>
            <li><code>rightsHolder</code></li>
            <li><code>source</code></li>
            <li><code>spatial</code></li>
            <li><code>subject</code></li>
            <li><code>temporal</code></li>
            <li><code>title</code></li>
          </ul>
        </section>
        <!--
        <section>
          <h4>Foreign Keys</h4>

          <div class="alert alert-success">
          Foreign Keys by necessity must be able to reference other data objects. These
          data objects require a specific structure for the spec to work. This spec
          assumes the data objects being referenced are <a href="/data-packages/">Data
          Packages</a>. Thus, to use Foreign Keys you must be referencing Data Packages.
          </div>

          <p>A foreign key is a reference where entries in a given field (or fields) on this
          table (‘resource’ in data package terminology) is a reference to an entry in a
          field (or fields) on a separate resource.</p>

          <p>The <code>foreignKeys</code> attribute, if present, MUST be an Array. Each entry in the
          array must be a <code>foreignKey</code>. A <code>foreignKey</code> MUST be a Hash and:</p>

          <ul>
            <li><code>MUST</code> have an attribute <code>fields</code>. <code>fields</code> is a string or array specifying the 
          field or fields on this resource that form the source part of the foreign
          key. The structure of the string or array is as per <code>primaryKey</code> above.</li>
            <li><code>MUST</code> have an attribute <code>reference</code> which MUST be a Hash. The Hash
              <ul>
                <li><code>MAY</code> have an attribute <code>datapackage</code>. This attribute is a string being a url or
          name to a datapackage. If absent the implication is that this is a
          reference to a resource within the current data package.</li>
                <li><code>MUST</code> have an attribute <code>resource</code> which is the name of the resource
          within the referenced data package</li>
                <li><code>MUST</code> have an attribute <code>fields</code> which is a string if the outer <code>fields</code> is a
          string, else an array of the same length as the outer <code>fields</code>, describing the
          field (or fields) references on the destination resource. The structure of
          the string or array is as per <code>primaryKey</code> above.</li>
              </ul>
            </li>
          </ul>

          <p>Here’s an example:</p>

          <pre><code>  "fields": [
              {
                "name": "state"
              }
            ],
            "foreignKeys": [
              {
                "fields": "state"
                "reference": {
                  "datapackage": "http://data.okfn.org/data/mydatapackage/",
                  "resource": "the-resource",
                  "fields": "state_id"
                }
              }
            ]
          </code></pre>
        </section>
      -->
      </section>
      <section id="schemas">
        <h3 id="h3_schemas" role="heading" aria-level="2"><span class="secno">3.5 </span>Schemas</h3>
        <p>
          A <dfn id="dfn-schema">schema</dfn> is a definition of a tabular format that may be common to multiple tables. For example, multiple tables from different sources may have the same columns and be designed such that they can be aggregated together.
        </p>
        <p>
          A <dfn id="dfn-schema-description">schema description</dfn> is a JSON object that encodes the information about a schema. All the properties of a schema description are optional.
        </p>
        <dl>
          <dt id="schema-ld-type"><code>@type</code></dt>
          <dd>
            If included, <code>@type</code> <em title="MUST" class="rfc2119">MUST</em> be set to <code>"Schema"</code>. Publishers <em title="MAY" class="rfc2119">MAY</em> include this to provide additional information to JSON-LD based toolchains.
          </dd>
          <dt id="schema-columns"><code>columns</code></dt>
          <dd>
            <p>
              An array of column descriptions as described in <a href="#columns" class="sectionRef sec-ref">section <span class="secno">3.6</span> <span class="sec-title">Columns</span></a>. These are matched to columns in table that use the schema by position: the first column description in the array applies to the first column in the table, the second to the second and so on.
            </p>
            <p>
              The <a href="#column-name"><code>name</code></a> properties of the column descriptions <em title="MUST" class="rfc2119">MUST</em> be unique within a given table description.
            </p>
          </dd>
          <dt id="table-rows"><code>rows</code></dt>
          <dd>
            <p>
              An array of row descriptions as described in <a href="#rows" class="sectionRef sec-ref">section <span class="secno">3.7</span> <span class="sec-title">Rows</span></a>. These are matched to row by the value of the <code>row</code> in the row description. The values of the <code>row</code> properties <em title="MUST" class="rfc2119">MUST</em> be unique within a given table description (ie no row can have more than one description).
            </p>
          </dd>
          <dt id="table-cells"><code>cells</code></dt>
          <dd>
            <p>
              An array of cell descriptions as described in <a href="#cells" class="sectionRef sec-ref">section <span class="secno">3.8</span> <span class="sec-title">Cells</span></a>. These are matched to cell by the value of the <code>row</code> and <code>column</code> properties in the cell description. The combination of values of the <code>row</code> and <code>column</code> properties <em title="MUST" class="rfc2119">MUST</em> be unique within a given table description (ie no cell can have more than one description).
            </p>
          </dd>
          <dt id="table-primaryKey"><code>primaryKey</code></dt>
          <dd>
            <p>
              An <a class="internalDFN" href="#dfn-internal-reference-property">internal reference property</a> that holds either a single references to a column description object or an array of references.
            </p>
            <p>
              Validators <em title="MUST" class="rfc2119">MUST</em> check that each row has a unique combination of cells in the indicated columns. For example, if <code>primaryKey</code> is set to <code>["_:familyName", "_:givenName"]</code> then every row must have a unique value for the combination of the <code>familyName</code> and <code>givenName</code> columns.
            </p>
            <div class="issue"><div id="h_issue_11" role="heading" aria-level="3" class="issue-title"><span>Issue 11</span></div><p class="">
              When referencing columns for a primary key, it is a lot clearer to reference them by name rather than by number. For JSON-LD compatibility, we have to assign a blank node identifier to each column even though they each have a <code>name</code> property that could be used instead. We invite comment on how to make this easier for people to use while maintaining JSON-LD compatibility.
            </p></div>
          </dd>
        </dl>
        <p>
          The description <em title="MAY" class="rfc2119">MAY</em> contain any of the properties defined in <a href="#common-properties" class="sectionRef sec-ref">section <span class="secno">3.3</span> <span class="sec-title">Common Properties</span></a> to describe the schema. As well as links to other related schemas, the following common properties are particularly suitable for schemas:
        </p>
        <ul>
          <li><code>created</code></li>
          <li><code>creator</code></li>
          <li><code>description</code></li>
          <li><code>license</code></li>
          <li><code>modified</code></li>
          <li><code>publisher</code></li>
          <li><code>rights</code></li>
          <li><code>rightsHolder</code></li>
          <li><code>subject</code></li>
          <li><code>title</code></li>
        </ul>
        <p>
          The description <em title="MAY" class="rfc2119">MAY</em> contain any of the <a class="internalDFN" href="#dfn-inherited-property" title="inherited property">inherited properties</a> defined for cells in <a href="#inherited-properties" class="sectionRef sec-ref">section <span class="secno">2.1.2</span> <span class="sec-title">Inherited Properties</span></a>.
        </p>
      </section>
      <section id="columns">
        <h3 id="h3_columns" role="heading" aria-level="2"><span class="secno">3.6 </span>Columns</h3>
        <p>
          A <dfn id="dfn-column-description">column description</dfn> is a simple JSON object that describes a single column. The description provides additional human-readable documentation for a column, as well as additional information that may be used to validate the cells within the column, create a user interface for data entry, or inform conversion into other formats.
        </p>
        <section id="required-properties-1">
          <h4 id="h4_required-properties-1" role="heading" aria-level="3"><span class="secno">3.6.1 </span>Required Properties</h4>
          <dl>
            <dt id="column-name"><code>name</code></dt>
            <dd>
              <p>
                An <a class="internalDFN" href="#dfn-atomic-property">atomic property</a> that gives a canonical name for the column. This <em title="MUST" class="rfc2119">MUST</em> be a string. Conversion specifications <em title="MUST" class="rfc2119">MUST</em> use this property as the basis for the names of properties/elements/attributes in the results of conversions.
              </p>
              <div class="issue"><div id="h_issue_12" role="heading" aria-level="4" class="issue-title"><span>Issue 12</span></div><p class="">
                We invite comment on what the syntactic limitations should be on column names to make them most useful when used as the basis of conversion into other formats, bearing in mind that different target languages such as JSON, RDF and XML have different syntactic limitations and common naming conventions.
              </p></div>
              <p>
                During validation, if there is no <code>title</code> property and the column already has a <code>title</code> annotation then a validator <em title="MUST" class="rfc2119">MUST</em> issue a warning if the existing <code>title</code> annotation does not match the <code>name</code> specified in the column description.
              </p>
            </dd>
          </dl>
        </section>
        <section id="optional-properties-1">
          <h4 id="h4_optional-properties-1" role="heading" aria-level="3"><span class="secno">3.6.2 </span>Optional Properties</h4>
          <dl>
            <dt id="column-title"><code>title</code></dt>
            <dd>
              <p>
                A <a class="internalDFN" href="#dfn-natural-language-property">natural language property</a> that provides possible alternative names for the column. The <dfn id="dfn-possible-column-titles">possible column titles</dfn> are defined as:
              </p>
              <ul>
                <li>if the value of <code>title</code> is a string, that string</li>
                <li>if the value of <code>title</code> is an array, the strings in that array</li>
                <li>if the value of <code>title</code> is an object, the string or strings that are the value of the property of that object whose name is the <a class="internalDFN" href="#dfn-column-language">column language</a></li>
              </ul>
              <p>
                where the <dfn id="dfn-column-language">column language</dfn> is the value of the <code>language</code> property on the column description, or (if there is no such language), the value of the <code>language</code> property on the table description.
              </p>
              <p>
                If the column already has a <code>title</code> annotation (because a header row has been included in the original CSV file) then a validator <em title="MUST" class="rfc2119">MUST</em> issue a warning if the existing <code>title</code> annotation is not the same as any of the <a class="internalDFN" href="#dfn-possible-column-titles">possible column titles</a>.
              </p>
              <div class="note"><div id="h_note_5" role="heading" aria-level="4" class="note-title"><span>Note</span></div><p class="">
                The facility to specify multiple potential titles for a column is important when the same column description is used for multiple CSVs, through a mechanism yet to be defined by this specification.
              </p></div>
            </dd>
            <dt id="column-ld-type"><code>@type</code></dt>
            <dd>
              <p>
                If included, <code>@type</code> <em title="MUST" class="rfc2119">MUST</em> be set to <code>"Column"</code>. Publishers <em title="MAY" class="rfc2119">MAY</em> include this to provide additional information to JSON-LD based toolchains.
              </p>
            </dd>
            <dt id="column-required"><code>required</code></dt>
            <dd>A boolean value which indicates whether every cell within the column must have a non-null value.</dd>
          </dl>
          <p>
            The description <em title="MAY" class="rfc2119">MAY</em> contain any of the <a class="internalDFN" href="#dfn-inherited-property" title="inherited property">inherited properties</a> defined for cells in <a href="#inherited-properties" class="sectionRef sec-ref">section <span class="secno">2.1.2</span> <span class="sec-title">Inherited Properties</span></a>.
          </p>
        </section>
      </section>
      <section id="rows">
        <h3 id="h3_rows" role="heading" aria-level="2"><span class="secno">3.7 </span>Rows</h3>
        <p>
          Rows can be described using row <a class="internalDFN" href="#dfn-description-object" title="description object">description objects</a>. A row description object is a JSON object within a metadata file that includes properties that describe an individual row.
        </p>
        <section id="required-properties-2">
          <h4 id="h4_required-properties-2" role="heading" aria-level="3"><span class="secno">3.7.1 </span>Required Properties</h4>
          <p>
            The following properties <em title="MUST" class="rfc2119">MUST</em> appear on a row description:
          </p>
          <dl>
            <dt><code>row</code></dt>
            <dd>an integer; the number of the row the description object describes</dd>
          </dl>
        </section>
        <section id="optional-properties-2">
          <h4 id="h4_optional-properties-2" role="heading" aria-level="3"><span class="secno">3.7.2 </span>Optional Properties</h4>
          <dl>
            <dt id="row-ld-type"><code>@type</code></dt>
            <dd>
              <p>
                If included, <code>@type</code> <em title="MUST" class="rfc2119">MUST</em> be set to <code>"Row"</code>. Publishers <em title="MAY" class="rfc2119">MAY</em> include this to provide additional information to JSON-LD based toolchains.
              </p>
            </dd>
          </dl>
          <p>
            The description <em title="MAY" class="rfc2119">MAY</em> contain any of the <a class="internalDFN" href="#dfn-inherited-property" title="inherited property">inherited properties</a> defined for cells in <a href="#inherited-properties" class="sectionRef sec-ref">section <span class="secno">2.1.2</span> <span class="sec-title">Inherited Properties</span></a>.
          </p>
        </section>
      </section>
      <section id="cells">
        <h3 id="h3_cells" role="heading" aria-level="2"><span class="secno">3.8 </span>Cells</h3>
        <p>
          Cells can be described using cell <a class="internalDFN" href="#dfn-description-object" title="description object">description objects</a>. A cell description object is a JSON object within a metadata file that includes properties that describe an individual cell.
        </p>
        <section id="required-properties-3">
          <h4 id="h4_required-properties-3" role="heading" aria-level="3"><span class="secno">3.8.1 </span>Required Properties</h4>
          <p>
            The following properties <em title="MUST" class="rfc2119">MUST</em> appear on a cell description:
          </p>
          <dl>
            <dt><code>row</code></dt>
            <dd>an integer; the number of the row on which the cell appears</dd>
            <dt><code>column</code></dt>
            <dd>an integer; the number of the column on which the cell appears</dd>
          </dl>
       </section>
        <section id="optional-properties-3">
          <h4 id="h4_optional-properties-3" role="heading" aria-level="3"><span class="secno">3.8.2 </span>Optional Properties</h4>
          <dl>
            <dt id="cell-ld-type"><code>@type</code></dt>
            <dd>
              <p>
                If included, <code>@type</code> <em title="MUST" class="rfc2119">MUST</em> be set to <code>"Cell"</code>. Publishers <em title="MAY" class="rfc2119">MAY</em> include this to provide additional information to JSON-LD based toolchains.
              </p>
            </dd>
          </dl>
          <p>
            The description <em title="MAY" class="rfc2119">MAY</em> contain any of the <a class="internalDFN" href="#dfn-inherited-property" title="inherited property">inherited properties</a> defined for cells in <a href="#inherited-properties" class="sectionRef sec-ref">section <span class="secno">2.1.2</span> <span class="sec-title">Inherited Properties</span></a>.
          </p>
        </section>
        <section id="inherited-properties-1">
          <h4 id="h4_inherited-properties-1" role="heading" aria-level="3"><span class="secno">3.8.3 </span>Inherited Properties</h4>
          <p>
            Cell descriptions may override <a class="internalDFN" href="#dfn-inherited-property" title="inherited property">inherited properties</a>, as described in <a href="#annotating-tables" class="sectionRef sec-ref">section <span class="secno">2.1</span> <span class="sec-title">Annotating Tables</span></a>. It is good practice to define these properties on columns, so that all cells within a given column are handled in the same way. These properties are:
          </p>
          <dl>
            <dt id="cell-empty-value"><code>null</code></dt>
            <dd>
              <p>
                The string used for null values. If not specified, the default for this is the empty string.
              </p>
            </dd>
            <dt id="cell-separator"><code>separator</code></dt>
            <dd>
              <p>
                The character used to separate items in the string value of the cell. If <code>null</code>, the cell does not contain a list. Otherwise, application <em title="MUST" class="rfc2119">MUST</em> split the string value of the cell on the specified separator character and parse each of the resulting strings separately. The cell's value will then be a list. Conversion specifications <em title="MUST" class="rfc2119">MUST</em> use the separator to determine the conversion of a cell into the target format. See <a class="sec-ref" href="#parsing-cells"><span class="secno">3.8.5</span> <span class="sec-title">Parsing cells</span></a> for more details.
              </p>
            </dd>
            <dt id="cell-format"><code>format</code></dt>
            <dd>
              <p>
                A definition of the format of the cell, used when parsing the cell as described in <a class="sec-ref" href="#parsing-cells"><span class="secno">3.8.5</span> <span class="sec-title">Parsing cells</span></a>.
              </p>
            </dd>
            <dt id="cell-datatype"><code>datatype</code></dt>
            <dd>
              <p>
                The main datatype of the values of the cell. If the cell contains a list (ie <code>separator</code> is not <code>null</code>) then this is the datatype of each value within the list. Conversion specifications <em title="MUST" class="rfc2119">MUST</em> use the datatype of the value to determine the conversion of a cell into the target format. See <a class="sec-ref" href="#datatypes"><span class="secno">3.8.4</span> <span class="sec-title">Datatypes</span></a> for more details.
              </p>
            </dd>
            <dt id="cell-length"><code>length</code></dt>
            <dd>
              <p>
                The exact length of the value of the cell. See <a href="#length-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.1</span> <span class="sec-title">Length Constraints</span></a> for details.
              </p>
            </dd>
            <dt id="cell-minLength"><code>minLength</code></dt>
            <dd>
              <p>
                The minimum length of the value of the cell. See <a href="#length-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.1</span> <span class="sec-title">Length Constraints</span></a> for details.
              </p>
            </dd>
            <dt id="cell-maxLength"><code>maxLength</code></dt>
            <dd>
              <p>
                The maximum length of the value of the cell. See <a href="#length-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.1</span> <span class="sec-title">Length Constraints</span></a> for details.
              </p>
            </dd>
            <dt id="cell-minimum"><code>minimum</code></dt>
            <dd>
              <p>
                The minimum value for the cell (inclusive); equivalent to <code>minInclusive</code>. See <a href="#value-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.2</span> <span class="sec-title">Value Constraints</span></a> for details.
              </p>
            </dd>
            <dt id="cell-maximum"><code>maximum</code></dt>
            <dd>
              <p>
                The maximum value for the cell (inclusive); equivalent to <code>maxInclusive</code>. See <a href="#value-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.2</span> <span class="sec-title">Value Constraints</span></a> for details.
              </p>
            </dd>
            <dt id="cell-minInclusive"><code>minInclusive</code></dt>
            <dd>
              <p>
                The minimum value for the cell (inclusive). See <a href="#value-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.2</span> <span class="sec-title">Value Constraints</span></a> for details.
              </p>
            </dd>
            <dt id="cell-maxInclusive"><code>maxInclusive</code></dt>
            <dd>
              <p>
                The maximum value for the cell (inclusive). See <a href="#value-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.2</span> <span class="sec-title">Value Constraints</span></a> for details.
              </p>
            </dd>
            <dt id="cell-minExclusive"><code>minExclusive</code></dt>
            <dd>
              <p>
                The minimum value for the cell (exclusive). See <a href="#value-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.2</span> <span class="sec-title">Value Constraints</span></a> for details.
              </p>
            </dd>
            <dt id="cell-maxExclusive"><code>maxExclusive</code></dt>
            <dd>
              <p>
                The maximum value for the cell (exclusive). See <a href="#value-constraints" class="sectionRef sec-ref">section <span class="secno">3.8.4.2</span> <span class="sec-title">Value Constraints</span></a> for details.
              </p>
            </dd>
          </dl>
        </section>
        <section id="datatypes">
          <h4 id="h4_datatypes" role="heading" aria-level="3"><span class="secno">3.8.4 </span>Datatypes</h4>
          <p>
            Cells within tables may be annotated with a <code>datatype</code> which indicates the type of the value obtained by parsing the value of the cell. The format expected in the cell is determined by the <code>format</code> annotation, if there is one, or uses a default format determined by the type.
          </p>
          <p>
            The possible datatypes are:
          </p>
          <ul>
            <li>
              <p>the datatypes defined in [<cite><a href="#bib-xmlschema-2" class="bibref">xmlschema-2</a></cite>] with the exception of those that rely on XML mechanisms for definition, namely:</p>
              <ul>
                <li><code>anySimpleType</code></li>
                <li><code>string</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>normalizedString</code>; a sub-value of <code>string</code></li>
                <li><code>token</code>; a sub-value of <code>normalizedString</code></li>
                <li><code>language</code>; a sub-value of <code>token</code></li>
                <li><code>Name</code>; a sub-value of <code>token</code></li>
                <li><code>NCName</code>; a sub-value of <code>Name</code></li>
                <li><code>boolean</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>decimal</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>integer</code>; a sub-value of <code>decimal</code></li>
                <li><code>nonPositiveInteger</code>; a sub-value of <code>integer</code></li>
                <li><code>negativeInteger</code>; a sub-value of <code>nonPositiveInteger</code></li>
                <li><code>long</code>; a sub-value of <code>integer</code></li>
                <li><code>int</code>; a sub-value of <code>long</code></li>
                <li><code>short</code>; a sub-value of <code>int</code></li>
                <li><code>byte</code>; a sub-value of <code>short</code></li>
                <li><code>nonNegativeInteger</code>; a sub-value of <code>integer</code></li>
                <li><code>unsignedLong</code>; a sub-value of <code>nonNegativeInteger</code></li>
                <li><code>unsignedInt</code>; a sub-value of <code>unsignedLong</code></li>
                <li><code>unsignedShort</code>; a sub-value of <code>unsignedInt</code></li>
                <li><code>unsignedByte</code>; a sub-value of <code>unsignedShort</code></li>
                <li><code>positiveInteger</code>; a sub-value of <code>nonNegativeInteger</code></li>
                <li><code>float</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>double</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>duration</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>dateTime</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>time</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>date</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>gYearMonth</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>gYear</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>gMonthDay</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>gDay</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>gMonth</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>hexBinary</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>base64Binary</code>; a sub-value of <code>anySimpleType</code></li>
                <li><code>anyURI</code>; a sub-value of <code>anySimpleType</code></li>
              </ul>
            </li>
            <li>the datatype <code>number</code> which is exactly equivalent to <code>double</code></li>
            <li>the datatype <code>binary</code> which is exactly equivalent to <code>base64Binary</code></li>
            <li>the datatype <code>datetime</code> which is exactly equivalent to <code>dateTime</code></li>
            <li>
              <p>
                the datatype <code>geopoint</code> which indicates a comma-separated longitude and latitude (ie values that after stripping leading and trailing whitespace are in the format <code><var>longitude</var>\s*,\s*<var>latitude</var></code>); a sub-value of <code>anySimpleType</code>
              </p>
              <div class="issue"><div id="h_issue_13" role="heading" aria-level="4" class="issue-title"><span>Issue 13</span></div><p class="">
                In JSON Table Schema, <code>geopoint</code> permits values in JSON representations of points, namely <code>{ lon: <var>longitude</var>, lat: <code>latitude</code>}</code> and <code>[<var>longitude</var>, <var>latitude</var>]</code>. We invite comment about whether these types are suitable for CSV files. If they are, we suggest that these additional formats for <code>geopoint</code> are supported through the <code>format</code> property.
              </p></div>
            </li>
            <li>the datatype <code>any</code> which is exactly equivalent to <code>anySimpleType</code></li>
          </ul>
          <div class="issue"><div id="h_issue_14" role="heading" aria-level="4" class="issue-title"><span>Issue 14</span></div><p class="">
            The JSON Table Schema also includes <code>object</code>, <code>array</code> and <code>geojson</code>. We invite comment on whether we should we support the inclusion of JSON-based structures within CSV files.
          </p></div>
          <div class="issue"><div id="h_issue_15" role="heading" aria-level="4" class="issue-title"><span>Issue 15</span></div><p class="">
            We invite comment on whether the <code>any</code> type is useful.
          </p></div>
          <div class="issue"><div id="h_issue_16" role="heading" aria-level="4" class="issue-title"><span>Issue 16</span></div><p class="">
            We invite comment on whether there should be types for formats like XML, HTML and markdown which may appear within CSV cells.
          </p></div>
          <section id="length-constraints">
            <h5 id="h5_length-constraints" role="heading" aria-level="4"><span class="secno">3.8.4.1 </span>Length Constraints</h5>
            <p>
              The <code>length</code>, <code>minLength</code> and <code>maxLength</code> properties indicate the exact, minimum and maximum lengths of the values of cells.
            </p>
            <p>
              Applications <em title="MUST" class="rfc2119">MUST</em> raise an error if both <code>length</code> and <code>minLength</code> are specified and they do not have the same value. Similarly, applications <em title="MUST" class="rfc2119">MUST</em> raise an error if both <code>length</code> and <code>maxLength</code> are specified and they do not have the same value. Applications <em title="MUST" class="rfc2119">MUST</em> raise an error if <code>length</code>, <code>maxLength</code> or <code>minLength</code> are specified and the cell value is not a list (ie <code>separator</code> is not specified), a string or one of its subtypes, or a binary value.
            </p>
            <p>
              The length of a value of a cell is determined as follows:
            </p>
            <ul>
              <li>if the cell is <code>null</code> its length is zero</li>
              <li>if the value is a list, its length is the number of items in the list</li>
              <li>if the value is a string or one of its subtypes, its length is the number of characters in the value</li>
              <li>if the value is of a binary type, its length is the number of bytes in the binary value</li>
            </ul>
          </section>
          <section id="value-constraints">
            <h5 id="h5_value-constraints" role="heading" aria-level="4"><span class="secno">3.8.4.2 </span>Value Constraints</h5>
            <p>
              The <code>minimum</code>, <code>maximum</code>, <code>minInclusive</code>, <code>maxInclusive</code>, <code>minExclusive</code> and <code>maxExclusive</code> properties indicate limits on the values of cells. These apply to numeric and date/time types. The <code>minimum</code> property is equivalent to the <code>minInclusive</code> property and the <code>maximum</code> property is equivalent to the <code>maxInclusive</code> property.
            </p>
            <p>
              Validation against these properties is as defined in [<cite><a href="#bib-xmlschema-2" class="bibref">xmlschema-2</a></cite>].
            </p>
          </section>
        </section>
        <section id="parsing-cells">
          <h4 id="h4_parsing-cells" role="heading" aria-level="3"><span class="secno">3.8.5 </span>Parsing cells</h4>
          <p>
            Unlike many other data formats, tabular data is designed to be read by humans. For that reason, it's common for data to be represented within tabular data in a human-readable way. The <code>separator</code> and <code>format</code> properties indicates the format used to represent data within the table. This is used:
          </p>
          <ul>
            <li>by <strong>validators</strong> to check that the data in the table is in the expected format</li>
            <li>by <strong>converters</strong> to parse the values before mapping them into values in the target of the conversion</li>
            <li>when <strong>displaying</strong> data, to map it into formats that are meaningful for those viewing the data (as opposed to those publishing it)</li>
            <li>when <strong>inputting</strong> data, to turn entered values into representations in a consistent format</li>
          </ul>
          <p>
            The process of parsing the string value of a cell into a single value or a list of values is as follows:
          </p>
          <ol>
            <li>unless the <code>datatype</code> is <code>string</code> or <code>anySimpleType</code> or <code>any</code>, strip leading and trailing whitespace from the value</li>
            <li>if the value is the same as the <code>null</code> value, then the value is <code>null</code></li>
            <li>if the <code>separator</code> property is not <code>null</code>, create a list of values by splitting the string at the character specified by the <code>separator</code> property</li>
            <li>validate the value(s) against the <code>format</code>, if one is specified, as described below; raise an error if any of the values do not match the specified format</li>
            <li>parse the value(s) using the <code>format</code>, as described below</li>
          </ol>
          <section id="formats-for-strings">
            <h5 id="h5_formats-for-strings" role="heading" aria-level="4"><span class="secno">3.8.5.1 </span>Formats for strings</h5>
            <p>
              If the <code>datatype</code> is a string type, the <code>format</code> property provides a regular expression for the string values, in the syntax defined by [<cite><a href="#bib-ECMASCRIPT" class="bibref">ECMASCRIPT</a></cite>].
            </p>
            <div class="issue"><div id="h_issue_17" role="heading" aria-level="5" class="issue-title"><span>Issue 17</span></div><p class="">
              We invite comment about which reference to use for regular expression syntax. Other possibilities are to use that defined by XML Schema or XPath.
            </p></div>
          </section>
          <section id="formats-for-numeric-types">
            <h5 id="h5_formats-for-numeric-types" role="heading" aria-level="4"><span class="secno">3.8.5.2 </span>Formats for numeric types</h5>
            <p>
              It is not uncommon for numbers within tabular data to be formatted for human consumption, which may involve using commas for decimal points, grouping digits in the number using commas, or adding currency symbols or percent signs to the number.
            </p>
            <p>
              If the <code>datatype</code> is a numeric type, the <code>format</code> property indicates the expected format for that number. Validators <em title="MUST" class="rfc2119">MUST</em> check that the numbers in the column adhere to the specified format. Converters <em title="MUST" class="rfc2119">MUST</em> use the <code>format</code> property to parse the number when mapping it into a suitable type in the target language of the conversion.
            </p>
            <p>
              When the <code>datatype</code> is a numeric type, the <code>format</code> property's value <em title="MUST" class="rfc2119">MUST</em> be a number format as specified in [<cite><a href="#bib-xslt-21" class="bibref">xslt-21</a></cite>].
            </p>
            <div class="issue"><div id="h_issue_18" role="heading" aria-level="5" class="issue-title"><span>Issue 18</span></div><p class="">
              We invite comment on the best format to specify how to parse numbers.
            </p></div>
          </section>
          <section id="formats-for-booleans">
            <h5 id="h5_formats-for-booleans" role="heading" aria-level="4"><span class="secno">3.8.5.3 </span>Formats for booleans</h5>
            <p>
              Boolean values may be represented in many ways aside from the standard <code>1</code> and <code>0</code> or <code>true</code> and <code>false</code>.
            </p>
            <p>
              If the <code>datatype</code> is <code>boolean</code>, the <code>format</code> property provides the true and false values expected, separated by <code>|</code>. For example if <code>format</code> is <code>Y|N</code> then cells must hold either <code>Y</code> or <code>N</code> with <code>Y</code> meaning <code>true</code> and <code>N</code> meaning <code>false</code>.
            </p>
          </section>
          <section id="formats-for-dates-and-times">
            <h5 id="h5_formats-for-dates-and-times" role="heading" aria-level="4"><span class="secno">3.8.5.4 </span>Formats for dates and times</h5>
            <p>
              Dates and times are commonly represented in tabular data in formats other than those defined in [<cite><a href="#bib-xmlschema-2" class="bibref">xmlschema-2</a></cite>].
            </p>
            <p>
              If the <code>datatype</code> is a date or time type, the <code>format</code> property indicates the expected format for that date or time. Validators <em title="MUST" class="rfc2119">MUST</em> check that the dates or times in the column adhere to the specified format. Converters <em title="MUST" class="rfc2119">MUST</em> use the <code>format</code> property to parse the date or time when mapping it into a suitable type in the target language of the conversion.
            </p>
            <p>
              When the <code>datatype</code> is a date or time type, the <code>format</code> property's value <em title="MUST" class="rfc2119">MUST</em> be a date/time format as specified in [<cite><a href="#bib-xslt-21" class="bibref">xslt-21</a></cite>].
            </p>
            <div class="issue"><div id="h_issue_19" role="heading" aria-level="5" class="issue-title"><span>Issue 19</span></div><p class="">
              We invite comment on which format to use when parsing dates and times.
            </p></div>
          </section>
          <section id="formats-for-durations">
            <h5 id="h5_formats-for-durations" role="heading" aria-level="4"><span class="secno">3.8.5.5 </span>Formats for durations</h5>
            <div class="issue"><div id="h_issue_20" role="heading" aria-level="5" class="issue-title"><span>Issue 20</span></div><p class="">
              We invite comment on whether there are standard formats to use when parsing durations.
            </p></div>
          </section>
        </section>
        <section id="additional-constraints">
          <h4 id="h4_additional-constraints" role="heading" aria-level="3"><span class="secno">3.8.6 </span>Additional Constraints</h4>

          <p>A set of constraints can be associated with a cell. These constraints can be used 
          to validate data against a JSON Table Schema. The constraints might be used by consumers 
          to validate, for example, the contents of a data package, or as a means to validate 
          data being collected or updated via a data entry interface.</p>

          <p>A constraints descriptor is a JSON hash. It <code><em title="MAY" class="rfc2119">MAY</em></code> contain any of the following 
          keys.</p>

          <ul>
            <li><code>minLength</code> – An integer that specifies the minimum number of characters for a value</li>
            <li><code>maxLength</code> – An integer that specifies the maximum number of characters for a value</li>
            <li><code>unique</code> – A boolean. If <code>true</code>, then all values for that cell <em title="MUST" class="rfc2119">MUST</em> be unique within the 
          data file in which it is found. This defines a unique key for a row although a row could 
          potentially have several such keys.</li>
            <li><code>pattern</code> – A regular expression that can be used to test cell values. If the regular 
          expression matches then the value is valid. Values will be treated as a string of characters. 
          It is recommended that values of this cell conform to the standard 
          <a href="http://www.w3.org/TR/xmlschema-2/#regexs">XML Schema regular expression syntax</a>. See also 
          <a href="http://www.regular-expressions.info/xml.html">this reference</a>.</li>
            <li><code>minimum</code> – specifies a minimum value for a cell. This is different to <code>minLength</code> which 
          checks number of characters. A <code>minimum</code> value constraint checks whether a cell value is greater than 
          or equal to the specified value. The range checking depends on the <code>type</code> of the cell. E.g. an 
          integer cell may have a minimum value of 100; a date cell might have a minimum date. If a 
          <code>minimum</code> value constraint is specified then the cell descriptor <code><em title="MUST" class="rfc2119">MUST</em></code> contain a <code>type</code> key</li>
            <li><code>maximum</code> – as above, but specifies a maximum value for a cell.</li>
          </ul>

          <p>A constraints descriptor may contain multiple constraints, in which case a consumer <code><em title="MUST" class="rfc2119">MUST</em></code> apply 
          all the constraints when determining if a cell value is valid.</p>

          <p>A data file, e.g. an entry in a data package, is considered to be valid if all of its cells are valid 
          according to their declared <code>type</code> and <code>constraints</code>.</p>

        </section>
      </section>
    </section>
    <section id="acknowledgements" class="appendix">
      <!--OddPage--><h2 id="h2_acknowledgements" role="heading" aria-level="1"><span class="secno">A. </span>Acknowledgements</h2>
      <p>
        This document is largely a copy of content from the <a href="http://dataprotocols.org/data-packages/">Data Package</a> specification and the <a href="http://dataprotocols.org/json-table-schema/">JSON Table Schema</a>, which are maintained as part of <a href="http://dataprotocols.org/">Data Protocols</a>. Particular contributors to that work are Rufus Pollock, Paul Fitzpatrick, Andrew Berkeley, Francis Irving, Benoit Chesneau, Leigh Dodds, Martin Keegan, and Gunnlaugur Thor Briem.
      </p>
    </section>
    <section id="iana-considerations" class="appendix">
      <!--OddPage--><h2 id="h2_iana-considerations" role="heading" aria-level="1"><span class="secno">B. </span>IANA Considerations</h2>
      <section id="registration-of-application-csvm-json">
        <h3 id="h3_registration-of-application-csvm-json" role="heading" aria-level="2"><span class="secno">B.1 </span>Registration of <code>application/csvm+json</code></h3>
        <div class="issue"><div id="h_issue_21" role="heading" aria-level="3" class="issue-title"><span>Issue 21</span></div><p class="">
          We intend to include a registration for a new datatype, namely <code>application/csvm+json</code>. We invite comment about how to indicate that this is consistent with <code>application/ld+json</code>, or whether we should just use <code>application/json</code> or <code>application/ld+json</code> and not create a specific media type for the metadata files defined in this document.
        </p></div>
      </section>
    </section>
    <section id="json-ld-context" class="appendix">
      <!--OddPage--><h2 id="h2_json-ld-context" role="heading" aria-level="1"><span class="secno">C. </span>JSON-LD Context</h2>
      <p>
        The following JSON document is the JSON-LD context document that can be used to interpret metadata documents as RDF.
      </p>
      <div class="issue"><div id="h_issue_22" role="heading" aria-level="2" class="issue-title"><span>Issue 22</span></div><p class="">
        See <a href="csvm-context.json">csvm-context.json</a>.
      </p></div>
    </section>
  


<section rel="bibo:Chapter" resource="#references" typeof="bibo:Chapter" id="references" class="appendix"><!--OddPage--><h2 id="h2_references" role="heading" aria-level="1"><span class="secno">D. </span>References</h2><section rel="bibo:Chapter" resource="#normative-references" typeof="bibo:Chapter" id="normative-references"><h3 id="h3_normative-references" role="heading" aria-level="2"><span class="secno">D.1 </span>Normative references</h3><dl about="" class="bibliography"><dt id="bib-DC-TERMS">[DC-TERMS]</dt><dd rel="dcterms:requires">Dublin Core Metadata Initiative. <a href="http://dublincore.org/documents/2010/10/11/dcmi-terms/"><cite>Dublin Core Metadata Initiative Terms, version 1.1.</cite></a> 11 October 2010. DCMI Recommendation. URL: <a href="http://dublincore.org/documents/2010/10/11/dcmi-terms/">http://dublincore.org/documents/2010/10/11/dcmi-terms/</a>.
</dd><dt id="bib-ECMASCRIPT">[ECMASCRIPT]</dt><dd rel="dcterms:requires"><a href="http://people.mozilla.org/~jorendorff/es6-draft.html"><cite>ECMA-262 ECMAScript Language Specification, Edition 6</cite></a>. Draft. URL: <a href="http://people.mozilla.org/~jorendorff/es6-draft.html">http://people.mozilla.org/~jorendorff/es6-draft.html</a>
</dd><dt id="bib-RFC3066">[RFC3066]</dt><dd rel="dcterms:requires">H. Alvestrand. <a href="http://www.ietf.org/rfc/rfc3066.txt"><cite>Tags for the Identification of Languages 1995</cite></a>. Internet Best Current Practice. URL: <a href="http://www.ietf.org/rfc/rfc3066.txt">http://www.ietf.org/rfc/rfc3066.txt</a>
</dd><dt id="bib-UNICODE-BIDI">[UNICODE-BIDI]</dt><dd rel="dcterms:requires">Mark Davis; Aharon Lanin; Andrew Glass. <a href="http://unicode.org/reports/tr9/"><cite>TR9, Unicode Bidirectional Algorithm</cite></a>. Report. URL: <a href="http://unicode.org/reports/tr9/">http://unicode.org/reports/tr9/</a>
</dd><dt id="bib-tabular-data-model">[tabular-data-model]</dt><dd rel="dcterms:requires">Jeni Tennison; Gregg Kellogg. <a href="http://www.w3.org/TR/2014/WD-tabular-data-model-20140710/"><cite>Model for Tabular Data and Metadata on the Web</cite></a>. W3C Working Draft. URL: <a href="http://www.w3.org/TR/2014/WD-tabular-data-model-20140710/">http://www.w3.org/TR/2014/WD-tabular-data-model-20140710/</a>
</dd><dt id="bib-xmlschema-2">[xmlschema-2]</dt><dd rel="dcterms:requires">Paul V. Biron; Ashok Malhotra. <a href="http://www.w3.org/TR/xmlschema-2/"><cite>XML Schema Part 2: Datatypes Second Edition</cite></a>. 28 October 2004. W3C Recommendation. URL: <a href="http://www.w3.org/TR/xmlschema-2/">http://www.w3.org/TR/xmlschema-2/</a>
</dd><dt id="bib-xslt-21">[xslt-21]</dt><dd rel="dcterms:requires">Michael Kay. <a href="http://www.w3.org/TR/xslt-21/"><cite>XSL Transformations (XSLT) Version 2.1</cite></a>. 11 May 2011. W3C Working Draft. URL: <a href="http://www.w3.org/TR/xslt-21/">http://www.w3.org/TR/xslt-21/</a>
</dd></dl></section></section></body></html>
