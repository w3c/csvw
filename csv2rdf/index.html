<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <title>Generating RDF from Tabular Data on the Web</title>
    <script class="remove" src="https://www.w3.org/Tools/respec/respec-w3c-common">
	  </script>
    <script class="remove">
var respecConfig = {
    localBiblio: {
      "tabular-data-model": {
          "authors": [
            "Jeni Tennison",
            "Gregg Kellogg"
          ],
          "title": "Model for Tabular Data and Metadata on the Web",
          "href" : "http://www.w3.org/TR/tabular-data-model/",
          "rawDate": "2015-01-08",
          "status" : "WD",
          "publisher": "W3C"
      },
      "tabular-metadata": {
          "authors": [
            "Rufus Pollock",
            "Jeni Tennison",
            "Gregg Kellogg"
          ],
          "title": "Metadata Vocabulary for Tabular Data",
          "href" : "http://www.w3.org/TR/tabular-metadata/",
          "rawDate": "2015-01-08",
          "status" : "WD",
          "publisher": "W3C"
      },
      "UNICODE-BIDI" : {
        "authors" : [
          "Mark Davis",
          "Aharon Lanin",
          "Andrew Glass"
        ],
        "title": "TR9, Unicode Bidirectional Algorithm",
        "href": "http://unicode.org/reports/tr9/",
        "rawDate" : "2013-09-24",
        "publisher" : "Unicode Consortium",
        "status" : "Report"
      },
      "rfc6570" : {
          "authors" : [
            "J. Gregorio",
            "R. Fielding",
            "M. Hadley",
            "M. Nottingham",
            "D. Orchard"
          ],
          "title" : "URI Template",
          "rawDate" : "2002-01",
          "status": "Proposed Internet RFC",
          "publisher" : "IETF",
          "href" : "http://www.ietf.org/rfc/rfc6570.txt"
      }, 
      "iso8601" : {
          "title" : "ISO 8601:2004 Representation of dates and times",
          "rawDate" : "2004",
          "status": "International Standard (IS)",
          "publisher" : "ISO (International Organization for Standardization)"
      }, 
      "tr35" : {
        "authors" : [
          "Mark Davis",
          "CLDR committee members"
        ],
        "title": "TR35, Unicode Locale Data Markup Language (LDML)",
        "href": "http://unicode.org/reports/tr35/",
        "rawDate" : "2014-09-17",
        "publisher" : "Unicode Consortium",
        "status" : "Report"
      }


    },
    doRdfa: true,
    specStatus: "ED",
    shortName: "csv2rdf",
    // publishDate:  "2014-04-01",
    previousPublishDate: "2014-01-08",
    previousMaturity: "FPWD",
    previousURI: "http://www.w3.org/TR/2015/WD-csv2rdf-20150108/",
    edDraftURI: "http://w3c.github.io/csvw/csv2rdf/",
    // lcEnd: "3000-01-01",
    // crEnd: "3000-01-01",
    editors:
     [{
            name: "Jeremy Tandy",
            company: "Met Office",
            companyURL: "http://www.metoffice.gov.uk/",
            w3cid: "65512"
      },
      {
       name: "Ivan Herman",
       url: "http://www.w3.org/People/Ivan",
       company: "W3C",
       companyURL: "http://www.w3.org",
       w3cid: "7382"
     }, { 
      name: "Gregg Kellogg", 
      url: "http://greggkellogg.net/",
      company: "Kellogg Associates", 
      companyURL: "http://kellogg-assoc.com/",
      w3cid: "44770"
    }],
    wg: "CSV on the Web Working Group",
    wgURI: "http://www.w3.org/2013/csvw/",
    wgPublicList: "public-csv-wg",
    wgPatentURI: "http://www.w3.org/2004/01/pp-impl/68238/status",
    otherLinks: [{
      key: "Repository",
      data: [{
          value: "We are on Github",
          href: "https://github.com/w3c/csvw/"
        }, {
          value: "File a bug",
          href: "https://github.com/w3c/csvw/issues"
        }]
      }, 
      {
        key: "Changes",
        data: [{
        //     value: "Diff to previous version",
        //     href: "diff-20140327.html"
        //   }, {}
           value: "Commit history",
           href: "https://github.com/w3c/csvw/commits/gh-pages"
         }]
       }] ,
    inlineCSS: true,
    noIDLIn: true,
    issueBase: "https://github.com/w3c/csvw/issues/",
    noLegacyStyle: false
    };
    </script>
    <style type="text/css">
      .grammar td { font-family: monospace; vertical-align: top; }
      .grammar-literal { color: gray;}
      .TBD { font-style: italic; background: yellow;}
      .steps li { margin-bottom: 0.5em;}
    </style>
  </head>
  <body>
    <section id="abstract">
      <p>This document defines the procedures and rules to be applied when mapping 
        tabular data into RDF. Tabular data may be complemented with metadata 
        annotations that describe its structure, the meaning of its content and how 
        it may form part of a collection of interrelated tabular data. This document 
        specifies the effect of this metadata on the resulting RDF.</p>
   
    </section>
    
    <section id="sotd">
      <p>The CSV on the Web Working Group was chartered to produce Recommendations 
        for "Access methods for CSV Metadata", "Metadata vocabulary for CSV data" and 
        "Mapping mechanism to transforming CSV into various Formats (e.g., RDF, JSON, 
        or XML)". This document aims to satisfy the RDF variant of the mapping 
        Recommendation.</p>
    </section>

    <section id="intro">
      <h2>Introduction</h2>

      <p>This document describes the processing of 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-tabular-data">tabular data</a>
        to create an RDF graph comprising subject-predicate-object triples [[!rdf11-concepts]] referred to as the 
        <dfn title="output graph"> output graph</dfn>. Since RDF is an <em>abstract syntax</em>, 
        the <a title="output graph">output graph</a> MUST be serialized in a <em>concrete RDF
        syntax</em> such as N-Triples [[n-triples]], Turtle [[turtle]], RDFa [[rdfa-primer]], JSON-LD [[json-ld]] or
        TriG [[trig]].</p>

      <p> 
        The Tabular Data Model [[!tabular-data-model]] defines a 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-core-tabular-data-model">
        core tabular data model</a> consisting of 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-table">tables</a>, 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">columns</a>,
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">rows</a> and 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell">cells</a>.</p>

      <p>Tabular data may be enriched with metadata that describes its structure and
        the meaning of its content. These metadata <em>annotations</em> are described 
        in [[!tabular-metadata]] and may be embedded within the CSV encoding itself as a
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-line">header line</a>
        or provided within a separate metadata document. The resulting 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-annotated-table">annotated 
        table</a> conforms to the 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-annotated-tabular-data-model">
        annotated tabular data model</a>.

      <p>The metadata annotations may describe how a 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-table">table</a> relates to a 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-group-of-tables">
        group of tables</a>. Such collections conform to the 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-grouped-tabular-data-model">
        grouped tabular data model</a>.</p>

      <p>The mapping procedure operates on the <em>abstract</em> tabular data model; 
        <em>core</em>, <em>annotated</em> or <em>grouped</em>. No discussion is given to 
        the processes needed to convert CSV-encoded data into tabular data form. Please 
        refer to [[!tabular-data-model]] for details of 
        <a href="http://www.w3.org/TR/tabular-data-model/#parsing">parsing tabular data</a>. 
        Further details on <a href="http://www.w3.org/TR/tabular-metadata/#parsing-cells">
        parsing cells</a> within tabular data is provided in [[!tabular-metadata]].</p>

      <div class="note">
        <p>Adopting terminology from the Data Catalog Vocabulary [[vocab-dcat]], the
          tabular data is considered to be a <em>dataset</em>, whilst the CSV file within
          which that tabular data is encoded is considered to be a <em>distribution</em> 
          of that tabular data.</p>
      </div>

      <p class="issue" data-number="93">Are the abstract tabular data and the CSV that 
        encodes it the same thing? (Is DCAT distribution appropriate?)</p>

      <p>The mapping procedure is intended to be simple; encouraging the provision of 
        compliant mapping applications. The limitation of this <dfn title="simple mapping">
        simple mapping</dfn> is that each  
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">row</a> of tabular 
        data is inferred to describe a single resource and that a single RDF triples is created 
        for each <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell">cell</a>.</p>
      
      <div class="note">
        <p>An 
          <a href="http://www.w3.org/TR/tabular-data-model/#dfn-annotated-table">annotated 
          table</a> may include a reference to a
          <a href="http://www.w3.org/TR/tabular-data-model/#dfn-template-specification">
          template specification</a> (see [[!tabular-metadata]]) that describes how tabular
          data can be transformed into another format using a template-based approach. 
          <em>Templating</em> facilitates far more sophisticated transformations than are 
          possible using the <a title="simple mapping">simple mapping</a>.</p>
        <p>There is no standard template syntax, therefore template specifications may be 
          written using existing template languages, such as 
          <a href="http://mustache.github.io">Mustache</a>, [[r2rml]] and SPARQL CONSTRUCT
          queries (as defined in [[sparql11-query]]).</p>
        <p>The processing of template specifications during the mapping is yet to be 
          determined by the Working Group and is, at least for the interim, beyond the scope
          of this document.</p>
      </div>
      
      <p>Finally, note that the mapping procedure is considered to be <em>entirely textual</em>. 
        There is no requirement on compliant mapping applications to check the semantic
        consistency of the data during the mapping, nor validate the 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell values</a> against
        RDF syntax rules. Where cell values within CSV encoded content are improperly formatted, 
        the output from the mapping is likely to include syntax errors. Downstream applications 
        should be aware of this and take appropriate action.</p>
      
      <p class="issue" data-number="62">Should the RDF/JSON transformation check the values?</p>  
    
    </section>
    
    <section id="conformance">
      <p><a href="http://www.w3.org/TR/tabular-data-model/#dfn-tabular-data">Tabular data</a> 
        MUST conform to the description from [[!tabular-data-model]]. In particular note
        that each row MUST contain the same number of cells (although some of these cells 
        may be empty). Given this constraint, not all CSV-encoded data can be considered 
        to be tabular data. As such, the procedures and rules defined in this document  
        cannot be applied to all CSV files.</p>
     
      <p>This document relies on terms (e.g. group, table, column, row, cell) defined in 
        [[!tabular-data-model]].</p>

      <p>This specification makes use of the <dfn title="CURIE">CURIE Syntax</dfn> for describing RDF
        Triples; see, for example, the <a href="http://www.w3.org/TR/rdfa-core/#s_curies">CURIE
          Syntax Definition Section</a> of the RDFa 1.1 Core Specification
        [[!rdfa-core]].</p>
     
      <p>This specification makes use of the following namespaces:</p>
      <dl>
        <dt><code>csvw</code>:</dt>
        <dd><code>http://www.w3.org/ns/csvw#</code></dd>
        <dt><code>rdf</code>:</dt>
        <dd><code>http://www.w3.org/1999/02/22-rdf-syntax-ns#</code></dd>
        <dt><code>rdfs</code>:</dt>
        <dd><code>http://www.w3.org/2000/01/rdf-schema#</code></dd>
        <dt><code>xsd</code>:</dt>
        <dd><code>http://www.w3.org/2001/XMLSchema#</code></dd>
        <dt><code>dc</code>:</dt>
        <dd><code>http://purl.org/dc/terms/</code></dd>
        <dt><code>dcat</code>:</dt>
        <dd><code>http://www.w3.org/ns/dcat#</code></dd>
        <dt><code>prov</code>:</dt>
        <dd><code>http://www.w3.org/ns/prov#</code></dd>
      </dl>
   
    </section>


    <section id="map-core-tab">
      <h2>Mapping Core Tabular Data</h2>

      <p>The procedures and rules for mapping tabular data compliant with the
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-core-tabular-data-model">
        core tabular data model</a> are described below.</p>
      
      <p class="note">Core Tabular Data lacks any annotation; neither from the header
        line within the CSV file nor from a separate metadata document.</p>
      
      <section id="map-core-tab-rdf">
        <h3>Generating RDF</h3>

        <section id="map-core-tab-table">
          <h4>Table-level processing</h4>
        
          <ol>
            <li>
              <p>The <a title="output graph">output graph</a> SHALL contain a resource that
                describes the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-table">table</a>: the
                <dfn title="table resource">table resource</dfn>.</p>
              <p>The <a title="table resource">table resource</a> SHALL be of type 
                <code>csvw:Table</code>.</p>
              <p class="note"><code>csvw:Table</code>, an RDFS Class, is a sub-class of 
                <code><a href="http://www.w3.org/ns/dcat#Dataset">dcat:Dataset</a></code>
                (as defined in [[vocab-dcat]]).</p> 
            </li>

            <li>
              <p>The <a title="table resource">table resource</a> SHALL be explicitly identified as
                <code><em>[CSV Location]</em>#table</code>, where <code><em>[CSV Location]</em></code>
                is the absolute URL of the source CSV file.</p>
              <p class="issue" data-number="106">Should the table resource in the RDF mapping of <em>core</em>
                tabular data be explicitly identified (e.g. as <code><em>[CSV Location]#table</em></code>)?</p>
            </li>
        
            <li>
              <p>The <a title="output graph">output graph</a> SHALL contain a resource of type
                <code><a href="http://www.w3.org/ns/dcat#Distribution">dcat:Distribution</a></code> 
                (as defined in [[vocab-dcat]]) that describes the CSV-encoded <em>distribution</em> 
                of the tabular data.</p>
              <p>The <em>distribution</em> SHALL be related to the <a title="table resource">
                table resource</a> using the <em>predicate</em> 
                <code><a href="http://www.w3.org/ns/dcat#distribution">dcat:distribution</a></code> 
                and SHALL state the absolute URL of the source CSV file using a triple with the 
                <em>predicate</em> 
                <code><a href="http://www.w3.org/ns/dcat#downloadURL">dcat:downloadURL</a></code>.
              <p class="issue" data-number="93">Are the abstract tabular data and the CSV that 
                encodes it the same thing? (Is DCAT distribution appropriate?)</p>
            </li> 
        
            <li>
              <p>The <a title="output graph">output graph</a> SHALL contain one resource for each 
                of the <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">rows</a> within 
                the tabular data.</p>
              <p>Each row-level resource SHALL be related to the <a title="table resource">table
                resource</a> using the <em>predicate</em> <code>csvw:row</code>.</p>

              <p class="note"><code>csvw:row</code>, an RDF Property, is a sub-property of 
                <code>rdfs:member</code> (as defined in [[rdf-schema]]).</p>  

              <p class="issue" data-number="97">What should the name of the property be that 
                relates rows to the table? <code>row</code> is one option; <code>hasRow</code>
                is another.</p>
              <p>Refer to <a href="#map-core-tab-row">Section 3.1.2 Row-level processing</a>
                for further details on the description of row-level entities.</p>
            </li>

            <li>
              <p>Optionally, the <a title="output graph">output graph</a> MAY contain information
                describing how and when the <a title="output graph">output graph</a> was created using terms from the PROV Ontology [[prov-o]].</p>
              <p>If <em>provenance information</em> is to be included in the <a title="output graph">output graph</a> then the <a title="table resource">table resource</a> SHALL use the <em>predicate</em> <code>prov:activity</code> to refer to a resource of type <code>prov:Activity</code> that describes the mapping activity.</p>
              <p>The <code>prov:Activity</code> resource SHOULD provide information on the start and end time of the mapping activity and refer to the original CSV file. The <code>prov:Activity</code> resource MAY indicate the location of the generated RDF <a title="output graph">output graph</a> if known.</p>
              <p>The example below provides an illustration of <em>provenance information</em>, where <code><em>[CSV Location]</em></code> is the absolute URL of the source CSV file, <code><em>[Start Time]</em></code> is the start time of the mapping activity, <code><em>[End Time]</em></code> is the finish time of the mapping activity (both expressed as <code>xsd:dateTime</code>) and <code><em>[RDF Output Location]</em></code> is the location of the generated <a title="output graph">output graph</a>.</p>

              <pre class="example" id="map-core-tab-example-prov" title="Provenance information">
&lt;&gt; a csvw:Table;
  prov:activity [
    a prov:Activity;
    prov:startedAtTime [Start Time];
    prov:endedAtTime [End Time];
    prov:generated &lt;[RDF Output Location]&gt;;
    prov:qualifiedUsage [
      a prov:Usage ;
      prov:Entity &lt;[CSV Location]&gt; ;
      prov:hadRole csvw:csvEncodedTabularData
    ]
  ];
  ...
              </pre>

            </li>

          </ol>

        </section>

        <section id="map-core-tab-row">
          <h4>Row-level processing</h4>
          
          <p>Each <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">row</a>
            in the tabular data is processed sequentially to produce a resource in the
            <a title="output graph">output graph</a> corresponding to that 
            <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">row</a>: the 
            <dfn title="row resource">row resource</dfn>.</p>

          <ol>

            <li>
              <p>A <a title="row resource">row resource</a> SHALL contain one triple for each
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a> 
                where the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell value</a>
                is not <em>null</em> (e.g. where the cell does not contain an empty string; 
                <code>""</code>).</p>
            </li>

            <li>
              <p>The <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell value</a>
                SHALL be related to the <a title="row resource">row resource</a> using a triple with
                the <em>predicate</em> <code><em>[CSV Location]</em>#_col.<em>[N]</em></code>, 
                where <code><em>[CSV Location]</em></code> is the absolute URL of the source CSV file.
                and <code><em>[N]</em></code> is the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column-number">column number</a>.</p>
              <p class="issue" data-number="33">What do to with conversion if no column name 
                is given?</p>
            </li>

            <li>
              <p>Where the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell value</a>
                is <em>null</em>, the triple SHALL be omitted from the 
                <a title="output graph">output graph</a>.</p>
            </li>
            
            <li>
              <p>Given the absence of metadata annotations to indicate the type of data present
               in a given column, all 
               <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell values</a> 
               SHALL be treated as strings.</p>  
            </li>
          
          </ol>
          
          <p class="issue" data-number="98">Should the mapping output for a given row include 
            a reference to the CSV source row?</p>
        
        </section>
      
      </section>

      <section id="map-core-tab-examples">
        <h3>Examples</h3>
        <p>The following example provides a numeric score for four fictional people. A row
          number is included for convenience. There are four columns and four rows. Given 
          that no metadata annotations are provided, it is very difficult to ascertain the 
          subject of the tabular data without additional insight.</p>

        <table style="width:60%">
          <tr>
            <td>1</td>
            <td>Jill</td>
            <td>Smith</td> 
            <td>50</td>
          </tr>
          <tr>
            <td>2</td>
            <td>Eve</td>
            <td></td> 
            <td>94</td>
          </tr>
          <tr>
            <td>3</td>
            <td>Adam</td>
            <td>Johnson</td> 
            <td></td>
          </tr>
          <tr>
            <td>4</td>
            <td>John</td>
            <td>Doe</td> 
            <td>80</td>
          </tr>
        </table>

        <p>The CSV input (published at <code>http://example.org/people-and-points.csv</code>):</p>

        <pre class="example" id="map-core-tab-examples-input" title="CSV input ">
1,Jill,Smith,50
2,Eve,,94
3,Adam,Johnson,
4,John,Doe,80
        </pre>

        <p>The resulting RDF output graph:</p>

        <pre class="example" id="map-core-tab-examples-output" title="RDF output (Turtle syntax)">
@prefix :     &lt;http://example.org/people-and-points.csv#&gt; .
@prefix csvw: &lt;http://www.w3.org/ns/csvw#&gt; .
@prefix dcat: &lt;http://www.w3.org/ns/dcat#&gt; .
@prefix prov: &lt;http://www.w3.org/ns/prov#&gt; .
@prefix xsd:  &lt;http://www.w3.org/2001/XMLSchema#&gt; .

:table a csvw:Table ;
  dcat:distribution [
    a dcat:Distribution ;
    dcat:downloadURL &lt;http://example.org/people-and-points.csv&gt; 
  ] ;
  csvw:row [
    :_col.1 "1" ;
    :_col.2 "Jill" ;
    :_col.3 "Smith" ;
    :_col.4 "50" ;
  ] , [
    :_col.1 "2" ;
    :_col.2 "Eve" ;
    :_col.4 "94" ;
  ] , [
    :_col.1 "3" ;
    :_col.2 "Adam" ;
    :_col.3 "Johnson" ;
  ] , [
    :_col.1 "4" ;
    :_col.2 "John" ;
    :_col.3 "Doe" ;
    :_col.4 "80" ;
  ] ;
  prov:activity [
    a prov:Activity ;
    prov:startedAtTime "2014-12-15T12:44:42"^^xsd:dateTime ;
    prov:endedAtTime "2014-12-15T12:44:42"^^xsd:dateTime ;
    prov:qualifiedUsage [
      a prov:Usage ;
      prov:Entity &lt;http://example.org/people-and-points.csv&gt; ;
      prov:hadRole csvw:csvEncodedTabularData ;
    ] ;
  ] ;
  .
        </pre>

      </section>

    </section>

    <section id="map-annotated-tab">
      <h2>Mapping Annotated Tabular Data</h2>

      <p>The procedures and rules for mapping annotated tabular data compliant with the
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-annotated-tabular-data-model">
        annotated tabular data model</a> are described below.</p>
      tableSchema
      <p>The metadata for annotated tabular data MAY be provided by either or both
        of the following sources:</p>
      <ul>
        <li>the <a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-line">
          header line</a> within the CSV file; and/or</li>
        <li>the <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-description">
          table description</a>, 
          <a href="http://www.w3.org/TR/tabular-metadata/#dfn-tableSchema">tableSchema</a> and 
          <a href="http://www.w3.org/TR/tabular-metadata/#dfn-column-description">
          column descriptions</a> (as defined in [[!tabular-metadata]]) within the 
          associated metadata document.</li>
      </ul>

      <p>Mapping applications SHALL establish a 
        <a title="column description object">column description object</a> for each
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a> within
        the annotated tabular data. The <dfn title="column description object">column 
        description object</dfn> contains the aggregated set
        of metadata properties for a given column that affect how the 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell values</a>
        within the associated column are expressed in the <a title="output graph">
        output graph</a>. Metadata properties are sourced from the 
        <a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-line">header line</a>
        in the CSV file and <a href="http://www.w3.org/TR/tabular-metadata/#dfn-column-description">
        column description</a> in the metadata document and enriched with 
        <a href="http://www.w3.org/TR/tabular-metadata/#dfn-inherited-property">
        inherited properties</a> from the 
        <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-description">
        table description</a> and  
        <a href="http://www.w3.org/TR/tabular-metadata/#dfn-tableSchema">tableSchema</a>.</p>
      
      <p>The <a title="output graph">output graph</a> MAY include some 
        <a href="http://www.w3.org/TR/tabular-metadata/#dfn-direct-annotation">Direct Annotations</a>
        sourced from the metadata document. Where these are 
        <a href="http://www.w3.org/TR/tabular-metadata/#dfn-natural-language-property">
        natural language properties</a>, a 
        <a href="http://www.w3.org/TR/rdf11-concepts/#dfn-language-tag">language tag</a>
        (as defined in [[!rdf11-concepts]]) SHALL be provided for those properties where 
        locale information is specified within the metadata description. Where multiple
        locale-specific values of a
        <a href="http://www.w3.org/TR/tabular-metadata/#dfn-natural-language-property">
        natural language property</a> have been defined using a 
        <a href="http://www.w3.org/TR/json-ld/#dfn-language-map">language map</a> (as 
        defined in [[json-ld]]), each value SHALL be expressed as a separate triple with 
        the appropriate <a href="http://www.w3.org/TR/rdf11-concepts/#dfn-language-tag">
        language tag</a>.</p>

      <p>Clearly, in order to process annotated tabular data, a mapping application MUST have
        access to the full metadata description associated with the tabular data.</p>

      <p>URL expansion behaviour of relative URLs SHALL be consistent with
        <a href="http://www.w3.org/TR/json-ld-api/#iri-expansion">Section 6.3 IRI Expansion</a> 
        in [[json-ld-api]]. The <dfn title="baseURL">base URL</dfn> provides the URL against 
        which relative URLs from annotated tabular data are resolved. The 
        <a title="baseURL">base URL</a> SHALL be that of the source CSV file.</p>  

      <p class="issue" data-number="91">What is default value if @base is not defined in the 
        metadata description?</p>

      <section id="map-annotated-tab-rdf">
        <h3>Generating RDF</h3>
        <section id="map-annotated-tab-table">
          <h4>Table-level processing</h4>
          
          <ol>
          
            <li>
              <p>The root object of the <a title="output graph">output graph</a> SHALL 
                contain a <a title="table resource">table resource</a> that describes the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-annotated-table">annotated table</a>.</p>
              <p>The <a title="table resource">table resource</a> SHALL be of type <code>csvw:Table</code>.</p>
            </li>
          
            <li>
              <p>The <cite><a href="http://www.w3.org/TR/tabular-metadata/#dfn-property-value">property value</a></cite> of the
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-description">table 
                description</a> <code>url</code> property SHALL be used to identify the 
                <a title="table resource">table resource</a>.</p>
            </li>
        
            <li>
              <p>The <a title="output graph">output graph</a> SHALL contain a resource of type
                <code><a href="http://www.w3.org/ns/dcat#Distribution">dcat:Distribution</a></code> 
                (as defined in [[vocab-dcat]]) that describes the CSV-encoded <em>distribution</em> 
                of the tabular data.</p>
              <p>The <em>distribution</em> SHALL be related to the <a title="table resource">
                table resource</a> using the <em>predicate</em> 
                <code><a href="http://www.w3.org/ns/dcat#distribution">dcat:distribution</a></code> 
                and SHALL state the absolute URL of the source CSV file using a triple with the 
                <em>predicate</em> 
                <code><a href="http://www.w3.org/ns/dcat#downloadURL">dcat:downloadURL</a></code>.
            </li> 

            <li>
              <p>Where a 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-line">header line</a>
                is present in the CSV file then, for each 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a>, the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-string-value">cell value</a>
                from the column header SHALL be assigned to metadata properties 
                <code>name</code> <em>and</em> <code>title</code>
                within the <a title="column description object">column description object</a> for
                that <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a>.</p>
              <p class="note">The language of the column header is inferred to be that of the 
                data within the <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">
                column</a> as specified by 
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-inherited-property">
                inherited property</a> <code>lang</code>.</p>
              <p>Where the column header is <em>null</em>, the value assigned to <code>name</code> SHALL be 
                <code>_col.<em>[N]</em></code> where <code><em>[N]</em></code> is the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column-number">column number</a>
                and no value assigned to <code>title</code>.</p>
            </li>

            <li>
              <p>Where present in the 
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-description">
                table description</a>, the following metadata properties SHALL be included in the
                <a title="output graph">output graph</a> as properties of the 
                <a title="table resource">table resource</a>:</p>
                <ul>
                  <li>
                    <p><code>notes</code> - the array of entities representing structured annotations 
                      on the tabular data SHALL be included verbatim.</p>
                    <p class="note">The <a href="http://www.w3.org/annotation/">Web Annotation Working 
                      Group</a> is developing a vocabulary for expressing annotations which we anticipate 
                      referencing from this specification. Issues likely to be covered therein include: 
                      how to anchor the annotation to a target in the tabular data and/or CSV file, 
                      what form the annotations themselves may take (e.g. a simple literal annotation 
                      body, or whether additional formatting properties are required to indicate that 
                      the annotation is expressed in, say, Markdown or HTML).</p>
                    <div class="issue" data-number="71">
                      <p>Exact handling of annotations.</p> 
                      <p>Additionally, the mechanism to reference the annotation target (within tabular
                        data) is still unclear - especially given the confusion on identifying row
                        numbers (<a href="https://github.com/w3c/csvw/issues/68">ISSUE #68</a> refers).</p>
                    </div>
                  </li>
                 <li>
                    <p>Any <dfn title="common property">Common Properties</dfn> (as defined in 
                      <a href="http://www.w3.org/TR/tabular-metadata/#common-properties">Section 3.3 
                      Common Properties</a> of [[!tabular-metadata]]).</p>
                  </li>
                </ul>  
            </li>

            <li>
              <p>Where the following 
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-direct-annotation">Direct Annotations</a> 
                are provided for 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">columns</a> within
                the tabular data, these SHALL be included in the <a title="output graph">
                output graph</a> using triples whose <em>subject</em> is the RDF Property
                identified by the value of metadata property <code>propertyUrl</code> for the
                associated <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a>:</p>
              <ul>
                <li>
                  <p>For each value <cite><a href="http://www.w3.org/TR/tabular-metadata/#dfn-property-value">property value</a></cite> <code>title</code> for which the <em>predicate</em> used SHALL be
                    <code><a href="http://www.w3.org/2000/01/rdf-schema#label">rdfs:label</a></code>; and</p>
                </li>
                <li>
                  <p>any <a title="common property">Common Properties</a> from the 
                    <a href="http://www.w3.org/TR/tabular-metadata/#dfn-column-description">
                    column description</a>.</p>
                </li>
              </ul>
              <p>Where language information about values of <code>title</code> or 
                <a title="common property">Common Properties</a> is known, the appropriate
                <a href="http://www.w3.org/TR/rdf11-concepts/#dfn-language-tag">language tag</a> 
                SHALL be appended to the triple.</p>
            </li>
            
            <li>
              <p>The <a title="output graph">output graph</a> SHALL contain one resource for each 
                of the <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">rows</a> within 
                the tabular data.</p>
              <p>Each row-level resource SHALL be related to the <a title="table resource">table
                resource</a> using the <em>predicate</em> <code>csvw:row</code>.</p>
              <p>Refer to <a href="#map-annotated-tab-row" class="sectionRef"></a>
                for further details on the description of row-level entities.</p>
            </li>

            <li>
              <p>Optionally, the <a title="output graph">output graph</a> MAY contain information
                describing how and when the <a title="output graph">output graph</a> was created using terms from the PROV Ontology [[prov-o]].</p>
              <p>If <em>provenance information</em> is to be included in the <a title="output graph">output graph</a> then the <a title="table resource">table resource</a> SHALL use the <em>predicate</em> <code>prov:activity</code> to refer to a resource of type <code>prov:Activity</code> that describes the mapping activity.</p>
              <p>The <code>prov:Activity</code> resource SHOULD provide information on the start and end time of the mapping activity and refer to the original CSV file. The <code>prov:Activity</code> resource MAY indicate the location of the generated RDF <a title="output graph">output graph</a> if known.</p>
              <p>Furthermore, if the metadata annotations are provided in one or more metadata documents (e.g. as <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-description">table description</a>, <a href="http://www.w3.org/TR/tabular-metadata/#dfn-tableSchema">tableSchema</a> and <a href="http://www.w3.org/TR/tabular-metadata/#dfn-column-description">column descriptions</a>) then the provenance information SHOULD also include information about each of those metadata documents.</p>
              <p>The example below provides an illustration of <em>provenance information</em>, where <code><em>[CSV Location]</em></code> is the absolute URL of the source CSV file, <code><em>[Metadata Location]</em></code> is the location of the metadata document, <code><em>[Start Time]</em></code> is the start time of the mapping activity, <code><em>[End Time]</em></code> is the finish time of the mapping activity (both expressed as <code>xsd:dateTime</code>) and <code><em>[RDF Output Location]</em></code> is the location of the generated <a title="output graph">output graph</a>.</p>

              <pre class="example" id="map-annotated-tab-example-prov" title="Provenance information">
&lt;&gt; a csvw:Table;
  prov:activity [
    a prov:Activity;
    prov:startedAtTime [Start Time];
    prov:endedAtTime [End Time];
    prov:generated &lt;[RDF Output Location]&gt;;
    prov:qualifiedUsage [
      a prov:Usage ;
      prov:Entity &lt;[CSV Location]&gt; ;
      prov:hadRole csvw:csvEncodedTabularData
    ];
    prov:qualifiedUsage [
      a prov:Usage ;
      prov:Entity &lt;[Metadata Location]&gt; ;
      prov:hadRole csvw:tabularMetadata
    ]
  ];
  ...
              </pre>

            </li>

          </ol>
        </section>

        <section id="map-annotated-tab-row">
          
          <h4>Row-level processing</h4>
          
          <p>Each <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">row</a>
            in the tabular data is processed sequentially to produce a <a title="row resource">
            row resource</a>. The behaviour exhibited when processing a given 
            <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell">cell</a> within the 
            current <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">row</a> is 
            dependent on the metadata properties of the 
            <a title="column description object">column description object</a> for the 
            <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a> that
            that <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell">cell</a> resides
            in. The effect of each metadata property is defined in 
            <a href="http://www.w3.org/TR/tabular-metadata/#converting-tables">Section 4.3 Converting Tables</a>.</p>
          
          <ol>

            <li>
              <p>A <a title="row resource">row resource</a> SHALL contain one or more triples for each
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a> 
                where the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell value</a>
                is not <em>null</em>.</p>
            </li>

            <li>
              <p>Where the <cite><a href="http://www.w3.org/TR/tabular-metadata/#dfn-property-value">property value</a></cite> of the <code>aboutUrl</code> property from <a title="column description object">column description object</a> of the first cell is provided, 
                the <a title="row resource">row resource</a> SHALL be explicitly identified 
                using that value.</p>
              <p>In the absence of metadata property <code>aboutUrl</code>, the
                <a title="row resource">row resource</a> SHALL be treated as a 
                <a href="http://www.w3.org/TR/rdf11-concepts/#section-blank-nodes">
                  blank node</a> [[!rdf11-concepts]].</p>
              <div class="note">
                <p>The <em>variables</em> in the URI Template expression relate to
                  the <code>name</code> property specified for each
                  <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a>. 
                  During template expansion, the <em>variables</em> evaluate to the 
                  <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell value</a>
                  within the 
                  <a href="http://www.w3.org/TR/tabular-data-model/#dfn-row">row</a>
                  being processed that is associated with the named 
                  <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a>.</p>
                <p>The <em>variable</em> <code>_row</code> evaluates to the number of the row being
                  processed.</p>
                <div class="issue">
                  From inline comments, refected here until resolved:
                  <ul>
                    <li>@jenit said:
                      <blockquote>
                        I think we need to add another variable to support the <code>valueUrl</code> property, ie <code>_value</code> evaluating to the cell value of the cell being processed.
                      </blockquote>
                    </li>
                    <li>@iherman said:
                      <blockquote>
                        Clarification... Do you mean that the value of ``_value`` is the raw cell value, as opposed to the one that may have been transformed to match the datatype definition?
                      </blockquote>
                    </li>
                    <li>@gkellogg said:
                      <blockquote>
                        <p>My own implementation maintains a <code>_raw</code> value for the Cell, but it's not used anywhere. The cell value should include the effect cell value(s) after transformation, including the <code>valueUrl</code> expanded values.</p>
                        <p>In this code the cell value reference should get this bit from the Metadata document:</p>
                        <p>The cell value of a cell is the result processing the cell as defined here and applying any format-specific mappings to create on or more values. Converters must be provided these cell values, along with any in-scope <code>lang</code> and <code>datatype</code> property values.</p>
                        <p>The process of parsing the string value of a cell into a single value or a list of values is as follows:</p>

                        <ul>
                        <li>unless the <code>valueUrl</code> is defined on the cell, <code>datatype</code> is string or anySimpleType or any, strip leading and trailing whitespace from the value</li>
                        <li>if the value is the same as the null value, then the value is null</li>
                        <li>if the separator property is not null, create a list of values by splitting the string at the character specified by the separator property</li>
                        <li>validate the value(s) against the format, if one is specified, as described below; raise an error if any of the values do not match the specified format</li>
                        <li>if the cell column has a <code>valueUrl</code> the value(s) are the result of applying the URI template to each value as a resource</li>
                        <li>parse the value(s) using the <code>format</code>, as described below</li>
                        </ul>
                      </blockquote>
                    </li>
                </div>
                <p>The <em>variable</em> <code>_name</code> evaluates to the <code>name</code> <cite><a href="http://www.w3.org/TR/tabular-metadata/#dfn-property-value">property value</a></cite> of the column being
                  processed.</p>
                <p>Once the URL has been generated via the template expansion, relative URLs are
                  resolved against the <a title="baseURL">base URL</a> to create an absolute
                  URL.</p>
              </div>
            </li>

             <li>
              <p>Where the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-cell-value">cell value</a>
                is <em>null</em>, the triple SHALL be omitted from the 
                <a title="output graph">output graph</a> unless a <em>default value</em> is
                specified for that <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a>
                (see metadata properties <code>null</code> and <code>default</code>).</p>
            </li>

            <li>
              For each <a href="http://www.w3.org/TR/tabular-data-model/#dfn-column">column</a>
              <ol>
                <li>The <code>subject</code> SHALL be the <cite><a href="http://www.w3.org/TR/tabular-metadata/#dfn-property-value">property value</a></cite> of the <code>aboutUrl</code> property from the <a title="column description object">column description object</a>.</li>
                <li>The <code>predicate</code> SHALL be the <cite><a href="http://www.w3.org/TR/tabular-metadata/#dfn-property-value">property value</a></cite> of the <code>propertyUrl</code> property from the <a title="column description object">column description object</a>.</li>
                <li>The <code>object(s)</code> SHALL be the cell value.</li>
                <li>Triples formed from each unique combination of <code>subject</code>, <code>predicate</code>, and <code>object</code> SHALL be added to the <a>output graph</a>.</li>
              </ol>
            </li>
          </ol>

        </section>

      </section>

      <section id="map-annotated-tab-examples">
        <h3>Examples</h3>
        <p class="issue" data-number="">These examples don't really show the edge cases - 
          probably need to rework them</p>
        <p>The first example illustrates how a CSV file with metadata annotations drawn <em>only</em> 
          from a <a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-line">header line</a> is 
          processed. The tabular data describes lists countries, giving their country code and name.
          There are two columns, named <code>country</code> and <code>name</code>, and four rows.</p>

        <table style="width: 30%">
          <tr>
            <th>country </th>
            <th>name</th>
          </tr>
          <tr>
            <td>AD</td>
            <td>Andorra</td>
          </tr>
          <tr>
            <td>AF</td>
            <td>Afghanistan</td>
          </tr>
          <tr>
            <td>AI</td>
            <td>Anguilla</td>
          </tr>
          <tr>
            <td>AL</td>
            <td>Albania</td>
          </tr>
        </table>

        <p>The CSV input (published at <code>http://example.org/country-codes-and-names.csv</code>):</p>

        <pre class="example" id="map-annotated-tab-examples-1-input" title="CSV input ">
country,name
AD,Andorra
AF,Afghanistan
AI,Anguilla
AL,Albania
        </pre>

        <p>The resulting RDF output graph (published to <code>http://example.org/country-codes-and-names.ttl</code>):</p>

        <pre class="example" id="map-annotated-tab-examples-1-output" title="RDF output (Turtle syntax)">
@prefix :     &lt;http://example.org/country-codes-and-names.csv#&gt; .
@prefix csvw: &lt;http://www.w3.org/ns/csvw#&gt; .
@prefix dcat: &lt;http://www.w3.org/ns/dcat#&gt; .
@prefix prov: &lt;http://www.w3.org/ns/prov#&gt; .
@prefix rdf:  &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd:  &lt;http://www.w3.org/2001/XMLSchema#&gt; .

:country a rdf:Property ;
  rdfs:label "country" .

:name a rdf:Property ;
  rdfs:label "name" .

:table a csvw:Table ;
  dcat:distribution [
    a dcat:Distribution ;
    dcat:downloadURL &lt;http://example.org/country-codes-and-names.csv&gt; 
  ] ;
  csvw:row [
    :country "AD" ;
    :name "Andorra" ;
  ] , [
    :country "AF" ;
    :name "Afghanistan" ;
  ] , [
    :country "AI" ;
    :name "Anguilla" ;
  ] , [
    :country "AL" ;
    :name "Albania" ;
  ] ;
  prov:activity [
    a prov:Activity ;
    prov:startedAtTime "2014-12-16T12:15:06"^^xsd:dateTime ;
    prov:endedAtTime "2014-12-16T12:15:07"^^xsd:dateTime ;
    prov:generated &lt;http://example.org/country-codes-and-names.ttl&gt; ;
    prov:qualifiedUsage [
      a prov:Usage ;
      prov:Entity &lt;http://example.org/country-codes-and-names.csv&gt; ;
      prov:hadRole csvw:csvEncodedTabularData ;
    ] ;
  ] ;
  .
        </pre>

        <div class="issue" data-number="116">
          <p>In the example output above we see Turtle's shorthand
            syntax for dealing with blank nodes. Should the recommended output form explicitly
            identify the blank nodes using the row number? e.g.</p>
          <p><code>&nbsp;&nbsp;csvw:row _:1 , _:2 , _:3 , _:4 .</code></p>
          <p><code>&nbsp;&nbsp;_:1 :country "AD" ; :name "Andorra" .</code></p>
          <p>etc.</p>
        </div>

        <p>The second example illustrates how the mapping is modified with the addition of metadata
          annotations in a metadata document. The CSV file is a small extract from a much larger
          Tree Inventory dataset from the City of Palo Alto which supports the maintaining and 
          tracking the city's public trees and urban forest. There are five columns, named 
          <code>GID</code>, <code>On Street</code>, <code>Species</code>, <code>Trim Cycle</code> 
          and <code>Inventory Date</code>, and three rows.</p>

        <table style="width:80%">
          <tr>
            <th>GID</th>
            <th>On Street</th>
            <th>Species</th>
            <th>Trim Cycle</th>
            <th>Inventory Date</th>
          </tr>
          <tr>
            <td>1</td>
            <td>ADDISON AV</td>
            <td>Celtis australis</td>
            <td>Large Tree Routine Prune</td>
            <td>10/18/2010</td>
          </tr>
          <tr>
            <td>2</td>
            <td>EMERSON ST</td>
            <td>Liquidambar styraciflua</td>
            <td>Large Tree Routine Prune</td>
            <td>6/2/2010</td>
          </tr>
          <tr>
            <td>3</td>
            <td>EMERSON ST</td>
            <td>Liquidambar styraciflua</td>
            <td>Large Tree Routine Prune</td>
            <td>6/2/2010</td>
          </tr>
        </table>

        <p>The CSV input (published at <code>http://example.org/tree-ops.csv</code>):</p>

        <pre class="example" id="map-annotated-tab-examples-2-input" title="CSV input ">
GID,On Street,Species,Trim Cycle,Inventory Date
1,ADDISON AV,Celtis australis,Large Tree Routine Prune,10/18/2010
2,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,6/2/2010
3,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,6/2/2010
        </pre>

        <p>The metadata description (published at <code>http://example.org/tree-ops.csv-metadata.json</code>):</p>

        <pre class="example" id="map-annotated-tab-examples-2-metadata" title="Metadata description">
{
  "@context": ["http://www.w3.org/ns/csvw", {"@language": "en"}],
  "url": "tree-ops",
  "dcat:distribution": {
    "dcat:downloadURL": "tree-ops.csv"
  }
  "dc:title": "Tree Operations",
  "dc:keywords": ["tree", "street", "maintenance"],
  "dc:publisher": [{
    "schema:name": "Example Municipality",
    "schema:web": "http://example.org"
  }],
  "dc:license": "http://opendefinition.org/licenses/cc-by/",
  "dc:modified": {
    "@value": "2010-12-31",
    "@type": "http://www.w3.org/2001/XMLSchema#date"
  }
  "tableSchema": {
    "columns": [{
      "name": "GID",
      "title": [
        "GID",
        "Generic Identifier"
      ],
      "dc:description": "An identifier for the operation on a tree.",
      "datatype": "string",
      "required": true,
      "unique": true
    }, {
      "name": "on_street",
      "title": "On Street",
      "dc:description": "The street that the tree is on.",
      "datatype": "string"
    }, {
      "name": "species",
      "title": "Species",
      "dc:description": "The species of the tree.",
      "datatype": "string"
    }, {
      "name": "trim_cycle",
      "title": "Trim Cycle",
      "dc:description": "The operation performed on the tree.",
      "datatype": "string"
    }, {
      "name": "inventory_date",
      "title": "Inventory Date",
      "dc:description": "The date of the operation that was performed.",
      "datatype": {"base": "date", "format": "M/d/yyyy"}
    }]
    "primaryKey": "GID",  
    "aboutUrl": "#gid-{GID}"
  }
}
        </pre>

        <p>The resulting RDF output graph (published to <code>http://example.org/tree-ops.ttl</code>):</p>

        <pre class="example" id="map-annotated-tab-examples-2-output" title="RDF output (Turtle syntax)">
@prefix :       &lt;http://example.org/tree-ops.csv#&gt; .
@prefix csvw:   &lt;http://www.w3.org/ns/csvw#&gt; .
@prefix dc:     &lt;http://purl.org/dc/terms/&gt;
@prefix dcat:   &lt;http://www.w3.org/ns/dcat#&gt; .
@prefix prov:   &lt;http://www.w3.org/ns/prov#&gt; .
@prefix rdf:    &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:   &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix schema: &lt;http://schema.org/&gt;
@prefix xsd:    &lt;http://www.w3.org/2001/XMLSchema#&gt; .

:GID a rdf:Property ;
  rdfs:label "GID" , "GID" , "Generic Identifier" ;
  dc:description "An identifier for the operation on a tree." .

:on_street a rdf:Property ;
  rdfs:label "On Street" , "On Street" ;
  dc:description "The street that the tree is on." .

:species a rdf:Property ;
  rdfs:label "Species" , "Species" ;
  dc:description "The species of the tree." .

:trim_cycle a rdf:Property ;
  rdfs:label "Trim Cycle" , "Trim Cycle" ;
  dc:description "The operation performed on the tree." .

:inventory_date a rdf:Property ;
  rdfs:label "Inventory Date" , "Inventory Date" ;
  dc:description "The date of the operation that was performed." .

:table a csvw:Table ;
  dcat:distribution [
    a dcat:Distribution ;
    dcat:downloadURL &lt;http://example.org/tree-ops.csv&gt; 
  ] ;
  dc:title "Tree Operations" ;
  dc:keywords "tree" , "street", "maintenance" ;
  dc:publisher [
    schema:name "Example Municipality" ;
    schema:web "http://example.org"
  ] ;
  dc:license &lt;http://opendefinition.org/licenses/cc-by/&gt; ;
  dc:modified "2010-12-31"^^xsd:date ;
  csvw:row :gid-1 , :gid-2 , :gid-3 ;
  prov:activity [
    a prov:Activity ;
    prov:startedAtTime "2014-12-16T12:15:06"^^xsd:dateTime ;
    prov:endedAtTime "2014-12-16T12:15:07"^^xsd:dateTime ;
    prov:generated &lt;http://example.org/tree-ops.ttl&gt; ;
    prov:qualifiedUsage [
      a prov:Usage ;
      prov:Entity &lt;http://example.org/tree-ops.csv&gt; ;
      prov:hadRole csvw:csvEncodedTabularData 
    ] ;
    prov:qualifiedUsage [
      a prov:Usage ;
      prov:Entity &lt;http://example.org/tree-ops.csv-metadata.json&gt; ;
      prov:hadRole csvw:tabularMetadata 
    ] ;
  ] ;
  .

:gid-1
  :GID "1"^^xsd:string ;
  :on_street "ADDISON AV"^^xsd:string ;
  :species "Celtis australis"^^xsd:string ;
  :trim_cycle "Large Tree Routine Prune"^^xsd:string ;
  :inventory_date "2010-10-18"^^xsd:date ;
  .

:gid-2
  :GID "2"^^xsd:string ;
  :on_street "EMERSON ST"^^xsd:string ;
  :species "Liquidambar styraciflua"^^xsd:string ;
  :trim_cycle "Large Tree Routine Prune"^^xsd:string ;
  :inventory_date "2010-06-02"^^xsd:date ;
  .

:gid-3
  :GID "3"^^xsd:string ;
  :on_street "EMERSON ST"^^xsd:string ;
  :species "Liquidambar styraciflua"^^xsd:string ;
  :trim_cycle "Large Tree Routine Prune"^^xsd:string ;
  :inventory_date "2010-06-02"^^xsd:date ;
  .
        </pre>

        <p class="note">In the example RDF output note that the value of column <code>Inventory Date</code>
          has been amended from format <code>M/d/yyyy</code> (as described by the 
          <a href="http://www.unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns">
          Unicode Date Format Pattern</a> string [[!tr35]]) into an [[!iso8601]] formatted
          date string compliant with <code>xsd:date</code> syntax.</p>

        <p class="issue" data-number="">Note the repeating <code>rdfs:label</code> for the column predicates; 
          this is because the CSV and the metadata both include the same <code>title</code> - should the
          mapping application attempt to deduplicate?</p>

        <p class="issue" data-number="">The assertions about the column predicates could
          include <code>rdfs:range</code> to specify the data type. Is this desirable?</p>

      </section>

    </section>

    <section id="map-grouped-tab">
    
      <h2>Mapping Grouped Tabular Data</h2>
    
        <p>The procedures and rules for mapping a collection of tabular data compliant with the
          <a href="http://www.w3.org/TR/tabular-data-model/#dfn-grouped-tabular-data-model">
          grouped tabular data model</a> are described below.</p>
    
        <p>The metadata for a <a href="http://www.w3.org/TR/tabular-data-model/#dfn-group-of-tables">
          group of tables</a> SHALL be provided by a
          <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-group-description">
          table group description</a> (as defined in [[!tabular-metadata]]) within the 
          associated metadata document.</p>
      
      <section id="map-grouped-tab-rdf">
        
        <h3>Generating RDF</h3>
        
        <section id="map-grouped-tab-table">
          
          <h4>Group-level processing</h4>
          
          <ol>
          
            <li>
              <p>The <a title="output graph">output graph</a> SHALL contain a resource that describes
                with the <a href="http://www.w3.org/TR/tabular-data-model/#dfn-group-of-tables">
                table group</a>: the <dfn title="group resource">table group resource</dfn>.</p>
              <p>The <a title="group resource">table group resource</a> SHALL be of type 
                <code>csvw:TableGroup</code>.</p>
            </li>
          
            <li>
              <p>Where present in the 
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-group-description">
                table group description</a>, any <a title="common property">Common Properties</a> 
                (as defined in 
                <a href="http://www.w3.org/TR/tabular-metadata/#common-properties">Section 3.3 
                Common Properties</a> of [[!tabular-metadata]]) SHALL 
                be included in the <a title="output graph">output graph</a> as properties
                of the <a title="group resource">table group resource</a>.</p>
            </li>

            <li>
              <p>The <a title="output graph">output graph</a> SHALL contain one resource for each
                of the <a href="http://www.w3.org/TR/tabular-data-model/#dfn-table">tables</a> listed in 
                the <code>resources</code> array of the 
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-group-description">
                table group description</a>.</p>
              <p>Each <a href="http://www.w3.org/TR/tabular-data-model/#dfn-table">table</a> SHALL be 
                processed sequentially according to the appropriate set of rules for mapping core
                or annotated <a href="http://www.w3.org/TR/tabular-data-model/#dfn-tabular-data">
                tabular data</a>. Refer to <a href="#map-core-tab">Section 3 Mapping Core Tabular
                Data</a> and <a href="#map-annotated-tab">Section 4 Mapping Annotated Tabular Data</a>
                for further details.</p>
              <p>Each table-level resource resulting from processing the 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-table">tables</a> SHALL be
                related to the <a title="group resource">table group resource</a> using the 
                <em>predicate</em> <code>csvw:table</code>.</p>  
            </li>

            <li>
              <p>Any of the <a href="http://www.w3.org/TR/tabular-metadata/#dfn-inherited-property">
                inherited properties</a> <code>null</code>, <code>lang</code>,
                <code>separator</code>, <code>format</code>, <code>datatype</code>, or <code>default</code>
                defined within the 
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-group-description">
                table group description</a> SHALL be used to pre-populate the 
                <a title="column description object">column description objects</a> for each 
                <a href="http://www.w3.org/TR/tabular-data-model/#dfn-table">table</a> in the
                group.</p>
              <p>Where the same property is defined in the
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-group-description">
                table group description</a>, 
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-table-description">
                table description</a>,
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-tableSchema">tableSchema</a> or 
                <a href="http://www.w3.org/TR/tabular-metadata/#dfn-column-description">
                column description</a> the order of precedence SHALL be:</p>
              <ol>
                <li>column description</li>
                <li>schema description</li>
                <li>table description</li>
                <li>table group description</li>
              </ol>
            </li>
          
          </ol>
          
          <p class="issue" data-number="">The presence of foreign-key references within the table 
            descriptions may affect the way the data is packaged in the output graph. Reviewers are 
            invited to comment on how grouped tabular data with foreign-key references might best be 
            organised.</p>
        
        </section>
      
      </section>
      
      <section id="map-grouped-tab-examples">
        
        <h3>Examples</h3>
        
        <p class="TBD"><a href="http://www.w3.org/TR/csvw-ucr/#UC-OrganogramData">
          Use Case 4: Publication of public sector roles and salaries</a> likely provides a good 
          source of material for these examples. To be added.</p>
      
      </section>
    
    </section>

    <section id="examples" class="informative">
      <h2>Examples</h2>

      <section id="example-countries">
        <h3>Simple example</h3>
        <p>
          This example comprises a single annotated table containing information attributes about countries; country code, position (latitude, longitude) and name. Whilst the input CSV+ file, published at <code>http://example.org/countries.csv</code>, includes a <a href="http://www.w3.org/TR/tabular-data-model/#dfn-header-line">header line</a>, no further metadata annotations are given. The CSV+ file is provided below:
        </p>
        <pre class="example" id="example-countries-csv+">
countryCode,latitude,longitude,name
AD,42.546245,1.601554,Andorra
AE,23.424076,53.847818,"United Arab Emirates"
AF,33.93911,67.709953,Afghanistan
        </pre>

        <p>The <a>annotated tabular data model</a> generated from parsing the CSV+ file is shown below and provides the basis for the conversion to RDF.</p>

        <p>Annotations for the resulting <a>table</a> <var>T</var>, with 4 columns and 3 rows, are shown below:</p>

        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="3">core annotations</th><th rowspan="2" colspan="2">annotations</th></tr>
            <tr><th><code>url</code></th><th>columns</th><th>rows</th></tr>
          </thead>
          <tbody>
            <tr><td><var>T</var></td><td><code>http://example.org/countries.csv</code></td><td><var>C1</var>, <var>C2</var>, <var>C3</var>, <var>C4</var></td><td><var>R1</var>, <var>R2</var>, <var>R3</var></td><td></td><td></td></tr>
          </tbody>
        </table>

        <p>Annotations for the <a>columns</a>, <a>rows</a> and <a>cells</a> in <a>table</a> <var>T</var> are shown in the tables below.</p>

        <p>Column annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="4">core annotations</th><th colspan="2">annotations</th></tr>
            <tr><th>table</th><th>number</th><th>source number</th><th>cells</th><th><code>name</code></th><th><code>title</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>C1</var></td><td><var>T</var></td><td>1</td><td>1</td><td><var>C1.1</var>, <var>C2.1</var>, <var>C3.1</var></td><td><code>countryCode</code></td><td><code>countryCode</code></td></tr>
            <tr><td><var>C2</var></td><td><var>T</var></td><td>2</td><td>2</td><td><var>C1.2</var>, <var>C2.2</var>, <var>C3.2</var></td><td><code>latitude</code></td><td><code>latitude</code></td></tr>
            <tr><td><var>C3</var></td><td><var>T</var></td><td>3</td><td>3</td><td><var>C1.3</var>, <var>C2.3</var>, <var>C3.3</var></td><td><code>longitude</code></td><td><code>longitude</code></td></tr>
            <tr><td><var>C4</var></td><td><var>T</var></td><td>4</td><td>4</td><td><var>C1.4</var>, <var>C2.4</var>, <var>C3.4</var></td><td><code>name</code></td><td><code>name</code></td></tr>
          </tbody>
        </table>

        <p>Row annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="4">core annotations</th></tr>
            <tr><th>table</th><th>number</th><th>source number</th><th>cells</th></tr>
          </thead>
          <tbody>
            <tr><td><var>R1</var></td><td><var>T</var></td><td>1</td><td>2</td><td><var>C1.1</var>, <var>C1.2</var>, <var>C1.3</var>, <var>C1.4</var></td></tr>
            <tr><td><var>R2</var></td><td><var>T</var></td><td>2</td><td>3</td><td><var>C2.1</var>, <var>C2.2</var>, <var>C2.3</var>, <var>C2.4</var></td></tr>
            <tr><td><var>R3</var></td><td><var>T</var></td><td>3</td><td>4</td><td><var>C3.1</var>, <var>C3.2</var>, <var>C3.3</var>, <var>C3.4</var></td></tr>
          </tbody>
        </table>

        <p>Cell annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="6">core annotations</th><th>annotations</th></tr>
            <tr><th>table</th><th>column</th><th>row</th><th>string value</th><th>value</th><th>errors</th><th><code>propertyUrl</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>C1.1</var></td><td><var>T</var></td><td><var>C1</var></td><td><var>R1</var></td><td><code>"AD"</code></td><td><code>"AD"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#countryCode&gt;</code></td></tr>
            <tr><td><var>C1.2</var></td><td><var>T</var></td><td><var>C2</var></td><td><var>R1</var></td><td><code>"42.546245"</code></td><td><code>"42.546245"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#latitude&gt;</code></td></tr>
            <tr><td><var>C1.3</var></td><td><var>T</var></td><td><var>C3</var></td><td><var>R1</var></td><td><code>"1.601554"</code></td><td><code>"1.601554"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#longitude&gt;</code></td></tr>
            <tr><td><var>C1.4</var></td><td><var>T</var></td><td><var>C4</var></td><td><var>R1</var></td><td><code>"Andorra"</code></td><td><code>"Andorra"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#name&gt;</code></td></tr>

            <tr><td><var>C2.1</var></td><td><var>T</var></td><td><var>C1</var></td><td><var>R2</var></td><td><code>"AE"</code></td><td><code>"AE"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#countryCode&gt;</code></td></tr>
            <tr><td><var>C2.2</var></td><td><var>T</var></td><td><var>C2</var></td><td><var>R2</var></td><td><code>"23.424076"</code></td><td><code>"23.424076"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#latitude&gt;</code></td></tr>
            <tr><td><var>C2.3</var></td><td><var>T</var></td><td><var>C3</var></td><td><var>R2</var></td><td><code>"53.847818"</code></td><td><code>"53.847818"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#longitude&gt;</code></td></tr>
            <tr><td><var>C2.4</var></td><td><var>T</var></td><td><var>C4</var></td><td><var>R2</var></td><td><code>"United Arab Emirates"</code></td><td><code>"United Arab Emirates"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#name&gt;</code></td></tr>

            <tr><td><var>C3.1</var></td><td><var>T</var></td><td><var>C1</var></td><td><var>R3</var></td><td><code>"AF"</code></td><td><code>"AF"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#countryCode&gt;</code></td></tr>
            <tr><td><var>C3.2</var></td><td><var>T</var></td><td><var>C2</var></td><td><var>R3</var></td><td><code>"33.93911"</code></td><td><code>"33.93911"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#latitude&gt;</code></td></tr>
            <tr><td><var>C3.3</var></td><td><var>T</var></td><td><var>C3</var></td><td><var>R3</var></td><td><code>"67.709953"</code></td><td><code>"67.709953"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#longitude&gt;</code></td></tr>
            <tr><td><var>C3.4</var></td><td><var>T</var></td><td><var>C4</var></td><td><var>R3</var></td><td><code>"Afghanistan"</code></td><td><code>"Afghanistan"</code></td><td></td><td><code>&lt;http://example.org/countries.csv#name&gt;</code></td></tr>
          </tbody>
        </table>

        <p class="note">As the value of <code>propertyUrl</code> has not been set within the metadata description it defaults to the <a>URI Template</a> <code>#{<em>[column-name]</em>}</code>, where <code><em>[column-name]</em></code> is the value of the <code>name</code> property for the column associated with the cell. For example, the value of <code>propertyUrl</code> for all cells in column <var>C1</var> (<code>"name": "countryCode"</code>) is <code>http://example.org/countries.csv#countryCode</code>.</p>

      </section>
      <section id="example-tree-ops-ext">
        <h3>Example with single table and rich annotations</h3>
        <p>
          This example is based on <a href="http://www.w3.org/TR/csvw-ucr/#UC-PaloAltoTreeData">Use Case #11 - City of Palo Alto Tree Data</a> and comprises a single annotated table describing an inventory of tree maintenance operations. The input CSV+ file, published at <code>http://example.org/tree-ops-ext.csv</code>, and the associated metadata description <code>http://example.org/tree-ops-ext.csv-metadata.json</code> are provided below:
        </p>
        <pre class="example" id="example-tree-ops-ext-csv+">
GID,On Street,Species,Trim Cycle,Diameter at Breast Ht,Inventory Date,Comments,Protected,KML
1,ADDISON AV,Celtis australis,Large Tree Routine Prune,11,10/18/2010,,,"&lt;Point&gt;&lt;coordinates&gt;-122.156485,37.440963&lt;/coordinates&gt;&lt;/Point&gt;"
2,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,11,6/2/2010,,,"&lt;Point&gt;&lt;coordinates&gt;-122.156749,37.440958&lt;/coordinates&gt;&lt;/Point&gt;"
6,ADDISON AV,Robinia pseudoacacia,Large Tree Routine Prune,29,6/1/2010,cavity or decay; trunk decay; codominant leaders; included bark; large leader or limb decay; previous failure root damage; root decay;  beware of BEES,YES,"&lt;Point&gt;&lt;coordinates&gt;-122.156299,37.441151&lt;/coordinates&gt;&lt;/Point&gt;"
        </pre>
        <pre class="example highlight" id="example-tree-ops-ext-metadata">
{
  "url": "tree-ops-ext.csv",
  "@context": ["http://www.w3.org/ns/csvw", {"@language": "en"}],
  "@id": "http://example.org/tree-ops-ext",
  "dc:title": "Tree Operations",
  "dc:keywords": ["tree", "street", "maintenance"],
  "dc:publisher": [{
    "schema:name": "Example Municipality",
    "schema:url": "http://example.org"
  }],
  "dc:license": {"@id": "http://opendefinition.org/licenses/cc-by/"},
  "dc:modified": {"@value": "2010-12-31", "@type": "xsd:date"},
  "tableSchema": {
    "columns": [{
      "name": "GID",
      "title": [
        "GID",
        "Generic Identifier"
      ],
      "dc:description": "An identifier for the operation on a tree.",
      "datatype": "string",
      "required": true, 
      "suppressOutput": true
    }, {
      "name": "on_street",
      "title": "On Street",
      "dc:description": "The street that the tree is on.",
      "datatype": "string"
    }, {
      "name": "species",
      "title": "Species",
      "dc:description": "The species of the tree.",
      "datatype": "string"
    }, {
      "name": "trim_cycle",
      "title": "Trim Cycle",
      "dc:description": "The operation performed on the tree.",
      "datatype": "string",
      "lang": "en"
    }, {
      "name": "dbh",
      "title": "Diameter at Breast Ht",
      "dc:description": "Diameter at Breast Height (DBH) of the tree (in feet), measured 4.5ft above ground.",
      "datatype": "integer"
    }, {
      "name": "inventory_date",
      "title": "Inventory Date",
      "dc:description": "The date of the operation that was performed.",
      "datatype": {"base": "date", "format": "M/d/yyyy"}
    }, {
      "name": "comments",
      "title": "Comments",
      "dc:description": "Supplementary comments relating to the operation or tree.",
      "datatype": "string",
      "separator": ";"
    }, {
      "name": "protected",
      "title": "Protected",
      "dc:description": "Indication (YES / NO) whether the tree is subject to a protection order.",
      "datatype": {"base": "boolean", "format": "YES|NO"},
      "default": "NO"
    }, {
      "name": "kml",
      "title": "KML",
      "dc:description": "KML-encoded description of tree location.",
      "datatype": "xml"
    }],
    "primaryKey": "GID",
    "aboutUrl": "http://example.org/tree-ops-ext#gid-{GID}"
  }
}
        </pre>

        <p>The <a>annotated tabular data model</a> generated from parsing the CSV+ file and associated metadata is shown below and provides the basis for the conversion to RDF.</p>

        <p>Annotations for the resulting <a>table</a> <var>T</var>, with 9 columns and 3 rows, are shown below:</p>

        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="3">core annotations</th><th rowspan="2" colspan="2">annotations</th></tr>
            <tr><th><code>url</code></th><th>columns</th><th>rows</th></tr>
          </thead>
          <tbody>
            <tr><td><var>T</var></td><td><code>http://example.org/tree-ops-ext.csv</code></td><td><var>C1</var>, <var>C2</var>, <var>C3</var>, <var>C4</var>, <var>C5</var>, <var>C6</var>, <var>C7</var>, <var>C8</var>, <var>C9</var></td><td><var>R1</var>, <var>R2</var>, <var>R3</var></td><td><strong><code>@id</code></strong></td><td><code>&lt;http://example.org/tree-ops-ext&gt;</code></td></tr>
            <tr><td></td><td></td><td></td><td></td><td><strong><code>dc:title</code></strong></td><td><code>"Tree Operations"</code></td></tr>
            <tr><td></td><td></td><td></td><td></td><td><strong><code>dc:keywords</code></strong></td><td><code>["tree", "street", "maintenance"]</code></td></tr>
            <tr><td></td><td></td><td></td><td></td><td><strong><code>dc:publisher</code></strong></td><td><code>[{ "schema:name": "Example Municipality", "schema:url": "http://example.org" }]</code></td></tr>
            <tr><td></td><td></td><td></td><td></td><td><strong><code>dc:license</code></strong></td><td><code>&lt;http://opendefinition.org/licenses/cc-by/&gt;</code></td></tr>
            <tr><td></td><td></td><td></td><td></td><td><strong><code>dc:modified</code></strong></td><td><code>"2010-12-31"</code></td></tr>
            <tr><td></td><td></td><td></td><td></td><td><strong><code>primaryKey</code></strong></td><td><var>C1</var></td></tr>
          </tbody>
        </table>

        <p>Annotations for the <a>columns</a>, <a>rows</a> and <a>cells</a> in <a>table</a> <var>T</var> are shown in the tables below.</p>

        <p>Column annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="4">core annotations</th><th colspan="5">annotations</th></tr>
            <tr><th>table</th><th>number</th><th>source number</th><th>cells</th><th><code>name</code></th><th><code>title</code></th><th><code>required</code></th><th><code>suppressOutput</code></th><th><code>dc:description</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>C1</var></td><td><var>T</var></td><td>1</td><td>1</td><td><var>C1.1</var>, <var>C2.1</var>, <var>C3.1</var></td><td><code>GID</code></td><td><code>GID</code>, <code>Generic Identifier</code></td><td><code>true</code></td><td><code>true</code></td><td><code>An identifier for the operation on a tree.</code></td></tr>
            <tr><td><var>C2</var></td><td><var>T</var></td><td>2</td><td>2</td><td><var>C1.2</var>, <var>C2.2</var>, <var>C3.2</var></td><td><code>on_street</code></td><td><code>On Street</code></td><td></td><td></td><td><code>The street that the tree is on.</code></td></tr>
            <tr><td><var>C3</var></td><td><var>T</var></td><td>3</td><td>3</td><td><var>C1.3</var>, <var>C2.3</var>, <var>C3.3</var></td><td><code>species</code></td><td><code>Species</code></td><td></td><td></td><td><code>The species of the tree.</code></td></tr>
            <tr><td><var>C4</var></td><td><var>T</var></td><td>4</td><td>4</td><td><var>C1.4</var>, <var>C2.4</var>, <var>C3.4</var></td><td><code>trim_cycle</code></td><td><code>Trim Cycle</code></td><td></td><td></td><td><code>The operation performed on the tree.</code></td></tr>
            <tr><td><var>C5</var></td><td><var>T</var></td><td>5</td><td>5</td><td><var>C1.5</var>, <var>C2.5</var>, <var>C3.5</var></td><td><code>dbh</code></td><td><code>Diameter at Breast Ht</code></td><td></td><td></td><td><code>Diameter at Breast Height (DBH) of the tree (in feet), measured 4.5ft above ground.</code></td></tr>
            <tr><td><var>C6</var></td><td><var>T</var></td><td>6</td><td>6</td><td><var>C1.6</var>, <var>C2.6</var>, <var>C3.6</var></td><td><code>inventory_date</code></td><td><code>Inventory Date</code></td><td></td><td></td><td><code>The date of the operation that was performed.</code></td></tr>
            <tr><td><var>C7</var></td><td><var>T</var></td><td>7</td><td>7</td><td><var>C1.7</var>, <var>C2.7</var>, <var>C3.7</var></td><td><code>comments</code></td><td><code>Comments</code></td><td></td><td></td><td><code>Supplementary comments relating to the operation or tree.</code></td></tr>
            <tr><td><var>C8</var></td><td><var>T</var></td><td>8</td><td>8</td><td><var>C1.8</var>, <var>C2.8</var>, <var>C3.8</var></td><td><code>protected</code></td><td><code>Protected</code></td><td></td><td></td><td><code>Indication (YES / NO) whether the tree is subject to a protection order.</code></td></tr>
            <tr><td><var>C9</var></td><td><var>T</var></td><td>9</td><td>9</td><td><var>C1.9</var>, <var>C2.9</var>, <var>C3.9</var></td><td><code>kml</code></td><td><code>KML</code></td><td></td><td></td><td><code>KML-encoded description of tree location.</code></td></tr>
          </tbody>
        </table>

        <p class="note">In this example, output for column <var>C1</var> (<code>GID</code>) is not required; note the <code>suppressOuput</code> annotation on this column.</p>

        <p>Row annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="4">core annotations</th></tr>
            <tr><th>table</th><th>number</th><th>source number</th><th>cells</th></tr>
          </thead>
          <tbody>
            <tr><td><var>R1</var></td><td><var>T</var></td><td>1</td><td>2</td><td><var>C1.1</var>, <var>C1.2</var>, <var>C1.3</var>, <var>C1.4</var>, <var>C1.5</var>, <var>C1.6</var>, <var>C1.7</var>, <var>C1.8</var>, <var>C1.9</var></td></tr>
            <tr><td><var>R2</var></td><td><var>T</var></td><td>2</td><td>3</td><td><var>C2.1</var>, <var>C2.2</var>, <var>C2.3</var>, <var>C2.4</var>, <var>C2.5</var>, <var>C2.6</var>, <var>C2.7</var>, <var>C2.8</var>, <var>C2.9</var></td></tr>
            <tr><td><var>R3</var></td><td><var>T</var></td><td>3</td><td>4</td><td><var>C3.1</var>, <var>C3.2</var>, <var>C3.3</var>, <var>C3.4</var>, <var>C3.5</var>, <var>C3.6</var>, <var>C3.7</var>, <var>C3.8</var>, <var>C3.9</var></td></tr>
          </tbody>
        </table>

        <p>Cell annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="6">core annotations</th><th colspan="5">annotations</th></tr>
            <tr><th>table</th><th>column</th><th>row</th><th>string value</th><th>value</th><th>errors</th><th><code>lang</code></th><th><code>datatype</code></th><th><code>format</code></th><th><code>default</code></th><th><code>aboutUrl</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>C1.1</var></td><td><var>T</var></td><td><var>C1</var></td><td><var>R1</var></td><td><code>"1"</code></td><td><code>"1"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>http://example.org/tree-ops-ext#gid-1</code></td></tr>
            <tr><td><var>C1.2</var></td><td><var>T</var></td><td><var>C2</var></td><td><var>R1</var></td><td><code>"ADDISON AV"</code></td><td><code>"ADDISON AV"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-1&gt;</code></td></tr>
            <tr><td><var>C1.3</var></td><td><var>T</var></td><td><var>C3</var></td><td><var>R1</var></td><td><code>"Celtis australis"</code></td><td><code>"Celtis australis"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-1&gt;</code></td></tr>
            <tr><td><var>C1.4</var></td><td><var>T</var></td><td><var>C4</var></td><td><var>R1</var></td><td><code>"Large Tree Routine Prune"</code></td><td><code>"Large Tree Routine Prune"</code></td><td></td><td><code>en</code></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-1&gt;</code></td></tr>
            <tr><td><var>C1.5</var></td><td><var>T</var></td><td><var>C5</var></td><td><var>R1</var></td><td><code>"11"</code></td><td><code>11</code></td><td></td><td></td><td><code>integer</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-1&gt;</code></td></tr>
            <tr><td><var>C1.6</var></td><td><var>T</var></td><td><var>C6</var></td><td><var>R1</var></td><td><code>"10/18/2010"</code></td><td><code>2010-10-18</code></td><td></td><td></td><td><code>date</code></td><td><code>M/d/yyyy</code></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-1&gt;</code></td></tr>
            <tr><td><var>C1.7</var></td><td><var>T</var></td><td><var>C7</var></td><td><var>R1</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-1&gt;</code></td></tr>
            <tr><td><var>C1.8</var></td><td><var>T</var></td><td><var>C8</var></td><td><var>R1</var></td><td><code>""</code></td><td><code>false</code></td><td></td><td></td><td><code>boolean</code></td><td><code>YES|NO</code></td><td><code>"NO"</code></td><td><code>&lt;http://example.org/tree-ops-ext#gid-1&gt;</code></td></tr>
            <tr><td><var>C1.9</var></td><td><var>T</var></td><td><var>C9</var></td><td><var>R1</var></td><td><code>"&lt;Point&gt;&lt;coordinates&gt;-122.156485,37.440963&lt;/coordinates&gt;&lt;/Point&gt;"</code></td><td><code>"&lt;Point&gt;&lt;coordinates&gt;-122.156485,37.440963&lt;/coordinates&gt;&lt;/Point&gt;"</code></td><td></td><td></td><td><code>xml</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-1&gt;</code></td></tr>

            <tr><td><var>C2.1</var></td><td><var>T</var></td><td><var>C1</var></td><td><var>R2</var></td><td><code>"2"</code></td><td><code>"2"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>
            <tr><td><var>C2.2</var></td><td><var>T</var></td><td><var>C2</var></td><td><var>R2</var></td><td><code>"EMERSON ST"</code></td><td><code>"EMERSON ST"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>
            <tr><td><var>C2.3</var></td><td><var>T</var></td><td><var>C3</var></td><td><var>R2</var></td><td><code>"Liquidambar styraciflua"</code></td><td><code>"Liquidambar styraciflua"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>
            <tr><td><var>C2.4</var></td><td><var>T</var></td><td><var>C4</var></td><td><var>R2</var></td><td><code>"Large Tree Routine Prune"</code></td><td><code>"Large Tree Routine Prune"</code></td><td></td><td><code>en</code></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>
            <tr><td><var>C2.5</var></td><td><var>T</var></td><td><var>C5</var></td><td><var>R2</var></td><td><code>"11"</code></td><td><code>11</code></td><td></td><td></td><td><code>integer</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>
            <tr><td><var>C2.6</var></td><td><var>T</var></td><td><var>C6</var></td><td><var>R2</var></td><td><code>"6/2/2010"</code></td><td><code>2010-06-02</code></td><td></td><td></td><td><code>date</code></td><td><code>M/d/yyyy</code></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>
            <tr><td><var>C2.7</var></td><td><var>T</var></td><td><var>C7</var></td><td><var>R2</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>
            <tr><td><var>C2.8</var></td><td><var>T</var></td><td><var>C8</var></td><td><var>R2</var></td><td><code>""</code></td><td><code>false</code></td><td></td><td></td><td><code>boolean</code></td><td><code>YES|NO</code></td><td><code>"NO"</code></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>
            <tr><td><var>C2.9</var></td><td><var>T</var></td><td><var>C9</var></td><td><var>R2</var></td><td><code>"&lt;Point&gt;&lt;coordinates&gt;-122.156749,37.440958&lt;/coordinates&gt;&lt;/Point&gt;"</code></td><td><code>"&lt;Point&gt;&lt;coordinates&gt;-122.156749,37.440958&lt;/coordinates&gt;&lt;/Point&gt;"</code></td><td></td><td></td><td><code>xml</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-2&gt;</code></td></tr>

            <tr><td><var>C3.1</var></td><td><var>T</var></td><td><var>C1</var></td><td><var>R3</var></td><td><code>"6"</code></td><td><code>"6"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
            <tr><td><var>C3.2</var></td><td><var>T</var></td><td><var>C2</var></td><td><var>R3</var></td><td><code>"ADDISON AV"</code></td><td><code>"ADDISON AV"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
            <tr><td><var>C3.3</var></td><td><var>T</var></td><td><var>C3</var></td><td><var>R3</var></td><td><code>"Robinia pseudoacacia"</code></td><td><code>"Robinia pseudoacacia"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
            <tr><td><var>C3.4</var></td><td><var>T</var></td><td><var>C4</var></td><td><var>R3</var></td><td><code>"Large Tree Routine Prune"</code></td><td><code>"Large Tree Routine Prune"</code></td><td></td><td><code>en</code></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
            <tr><td><var>C3.5</var></td><td><var>T</var></td><td><var>C5</var></td><td><var>R3</var></td><td><code>"29"</code></td><td><code>29</code></td><td></td><td></td><td><code>integer</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
            <tr><td><var>C3.6</var></td><td><var>T</var></td><td><var>C6</var></td><td><var>R3</var></td><td><code>"6/1/2010"</code></td><td><code>2010-06-01</code></td><td></td><td></td><td><code>date</code></td><td><code>M/d/yyyy</code></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
            <tr><td><var>C3.7</var></td><td><var>T</var></td><td><var>C7</var></td><td><var>R3</var></td><td><code>"cavity or decay; trunk decay; codominant leaders; included bark; large leader or limb decay; previous failure root damage; root decay;  beware of BEES"</code></td><td><code>"cavity or decay"</code>, <code>"trunk decay"</code>, <code>"codominant leaders"</code>, <code>"included bark"</code>, <code>"large leader or limb decay"</code>, <code>"previous failure root damage"</code>, <code>"root decay"</code>, <code>"beware of BEES"</code></td><td></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
            <tr><td><var>C3.8</var></td><td><var>T</var></td><td><var>C8</var></td><td><var>R3</var></td><td><code>"YES"</code></td><td><code>true</code></td><td></td><td></td><td><code>boolean</code></td><td><code>YES|NO</code></td><td><code>"NO"</code></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
            <tr><td><var>C3.9</var></td><td><var>T</var></td><td><var>C9</var></td><td><var>R3</var></td><td><code>"&lt;Point&gt;&lt;coordinates&gt;-122.156299,37.441151&lt;/coordinates&gt;&lt;/Point&gt;"</code></td><td><code>"&lt;Point&gt;&lt;coordinates&gt;-122.156299,37.441151&lt;/coordinates&gt;&lt;/Point&gt;"</code></td><td></td><td></td><td><code>xml</code></td><td></td><td></td><td><code>&lt;http://example.org/tree-ops-ext#gid-6&gt;</code></td></tr>
          </tbody>
        </table>

        <p class="note">For brevity, the <a>inherited property</a> <code>proprtyUrl</code> is not shown in the table of cell annotations. Where not explicitly set, the value of <code>propertyUrl</code> defaults to the <a>URI Template</a> <code>#{<em>[column-name]</em>}</code>, where <code><em>[column-name]</em></code> is the value of the <code>name</code> property for the column associated with the cell. For example, the value of <code>propertyUrl</code> for all cells in column <var>C2</var> (<code>"name": "on_street"</code>) is <code>http://example.org/tree-ops-ext.csv#on_street</code>.</p>

        <p class="note">The lists of values from cells in column <var>C7</var> (<code>"name": "comments"</code>) are assumed to be <em>unordered</em> as the boolean property <code>ordered</code>, with default value <code>true</code>, has not be set within the metadata description.</p>

        <p class="TBD">Add descriptive notes for specific elements of parsing?</p>

      </section>

      <section id="example-events-listing">
        <h3>Example with single table and using <em>virtual columns</em> to produce multiple subjects per row</h3>
        <p>
          This example uses a single annotated table describing a listing of music events. Each row from the CSV+ file corresponds to three resources; the music event itself, the location where that event occurs and the offer to sell tickets for that event. The goal is to convert the CSV content into <a href="http://schema.org">schema.org</a>markup that a search engine such as <a href="http://www.google.com">Google</a>can use to index music events. Details of how Google expects this information to be structured can be found <a href="https://support.google.com/webmasters/answer/4620133?hl=en">here</a>.
        </p>
        <p> 
          The input CSV+ file, published at <code>http://example.org/events-listing.csv</code>, and the associated metadata description <code>http://example.org/events-listing.csv-metadata.json</code> are provided below:
        </p>
        <pre class="example" id="example-events-listing-csv+">
Name, Start Date, Location Name, Location Address, Ticket Url
B.B. King,2014-04-12T19:30,"Lupos Heartbreak Hotel","79 Washington St., Providence, RI",https://www.etix.com/ticket/1771656
B.B. King,2014-04-13T20:00,"Lynn Auditorium","Lynn, MA, 01901",http://frontgatetickets.com/venue.php?id=11766
        </pre>
        <pre class="example highlight" id="example-events-listing-metadata">
{
  "url": "events-listing.csv",
  "@context": ["http://www.w3.org/ns/csvw", {"@language": "en"}],
  "tableSchema": {
    "columns": [{
      "name": "name",
      "title": "Name",
      "aboutUrl": "#event-{_row}",
      "propertyUrl": "schema:name"
    }, {
      "name": "start-date",
      "title": "Start Date",
      "datatype": {
        "base": "datetime",
        "format": "yyyy-MM-ddTHH:mm"
      },
      "aboutUrl": "#event-{_row}",
      "propertyUrl": "schema:startDate"
    }, {
      "name": "location-name",
      "title": "Location Name",
      "aboutUrl": "#place-{_row}",
      "propertyUrl": "schema:name"
    }, {
      "name": "location-address",
      "title": "Location Address",
      "aboutUrl": "#place-{_row}",
      "propertyUrl": "schema:address"
    }, {
      "name": "ticket-url",
      "title": "Ticket Url",
      "datatype": "anyURI",
      "aboutUrl": "#offer-{_row}",
      "propertyUrl": "schema:url"
    }, {
      "name": "type-event",
      "virtual": true,
      "aboutUrl": "#event-{_row}",
      "propertyUrl": "rdf:type",
      "valueUrl": "schema:MusicEvent"
    }, {
      "name": "type-place",
      "virtual": true,
      "aboutUrl": "#place-{_row}",
      "propertyUrl": "rdf:type",
      "valueUrl": "schema:Place"
    }, {
      "name": "type-offer",
      "virtual": true,
      "aboutUrl": "#offer-{_row}",
      "propertyUrl": "rdf:type",
      "valueUrl": "schema:Offer"
    }, {
      "name": "location",
      "virtual": true,
      "aboutUrl": "#event-{_row}",
      "propertyUrl": "schema:location",
      "valueUrl": "#place-{_row}"
    }, {
      "name": "offers",
      "virtual": true,
      "aboutUrl": "#event-{_row}",
      "propertyUrl": "schema:offers",
      "valueUrl": "#offer-{_row}"
    }]
  }
}
        </pre>

        <div class="note">
          <p>
            The CSV to RDF translation is limited to providing one statement, or triple, per column in the tabular data. The target <code>schema.org</code> markup requires 10 statements to describe each event. As the base CSV+ file contains 5 columns, an additional 5 <em>vitrual columns</em> have been added in order to provide for the full complement of statements - including the relationships between the 3 resources (event, location and offer) described by each row of the tabular data.
          </p>
          <p>
            Furthermore, note that no attempt is made to reconcile between locations that may be associated with more than one event; every row in the tabular data will create a new location resource. Applications such as <a href="http://openrefine.org">OpenRefine</a> may be used to identify and reconcile duplicate location resources once the RDF output has been generated if considered necessary.
          </p>
        </div>



        <p>The <a>annotated tabular data model</a> generated from parsing the CSV+ file and associated metadata is shown below and provides the basis for the conversion to RDF.</p>

        <p>Annotations for the resulting <a>table</a> <var>T</var>, with 10 columns and 2 rows, are shown below:</p>

        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="3">core annotations</th><th rowspan="2" colspan="2">annotations</th></tr>
            <tr><th><code>url</code></th><th>columns</th><th>rows</th></tr>
          </thead>
          <tbody>
            <tr><td><var>T</var></td><td><code>http://example.org/events-listing.csv</code></td><td><var>C1</var>, <var>C2</var>, <var>C3</var>, <var>C4</var>, <var>C5</var>, <var>C6</var>, <var>C7</var>, <var>C8</var>, <var>C9</var>, <var>C10</var></td><td><var>R1</var>, <var>R2</var></td><td></td><td></td></tr>
          </tbody>
        </table>

        <p>Annotations for the <a>columns</a>, <a>rows</a> and <a>cells</a> in <a>table</a> <var>T</var> are shown in the tables below.</p>

        <p>Column annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="4">core annotations</th><th colspan="3">annotations</th></tr>
            <tr><th>table</th><th>number</th><th>source number</th><th>cells</th><th><code>name</code></th><th><code>title</code></th><th><code>virtual</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>C1</var></td><td><var>T</var></td><td>1</td><td>1</td><td><var>C1.1</var>, <var>C2.1</var></td><td><code>name</code></td><td><code>Name</code></td><td></td></tr>
            <tr><td><var>C2</var></td><td><var>T</var></td><td>2</td><td>2</td><td><var>C1.2</var>, <var>C2.2</var></td><td><code>start-date</code></td><td><code>Start Date</code></td></td><td></td></tr>
            <tr><td><var>C3</var></td><td><var>T</var></td><td>3</td><td>3</td><td><var>C1.3</var>, <var>C2.3</var></td><td><code>location-name</code></td><td><code>Location Name</code></td></td><td></td></tr>
            <tr><td><var>C4</var></td><td><var>T</var></td><td>4</td><td>4</td><td><var>C1.4</var>, <var>C2.4</var></td><td><code>location-address</code></td><td><code>Location Address</code></td></td><td></td></tr>
            <tr><td><var>C5</var></td><td><var>T</var></td><td>5</td><td>5</td><td><var>C1.5</var>, <var>C2.5</var></td><td><code>ticket-url</code></td><td><code>Ticket Url</code></td></td><td></td></tr>
            <tr><td><var>C6</var></td><td><var>T</var></td><td>6</td><td>6</td><td><var>C1.6</var>, <var>C2.6</var></td><td><code>type-event</code></td><td></td></td><td><code>true</code></td></tr>
            <tr><td><var>C7</var></td><td><var>T</var></td><td>7</td><td>7</td><td><var>C1.7</var>, <var>C2.7</var></td><td><code>type-place</code></td><td></td><td><code>true</code></td></tr>
            <tr><td><var>C8</var></td><td><var>T</var></td><td>8</td><td>8</td><td><var>C1.8</var>, <var>C2.8</var></td><td><code>type-offer</code></td><td></td><td><code>true</code></td></tr>
            <tr><td><var>C9</var></td><td><var>T</var></td><td>9</td><td>9</td><td><var>C1.9</var>, <var>C2.9</var></td><td><code>location</code></td><td></td><td><code>true</code></td></tr>
            <tr><td><var>C10</var></td><td><var>T</var></td><td>10</td><td>10</td><td><var>C1.10</var>, <var>C2.10</var></td><td><code>offers</code></td><td></td><td><code>true</code></td></tr>
          </tbody>
        </table>

        <p>Row annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="4">core annotations</th></tr>
            <tr><th>table</th><th>number</th><th>source number</th><th>cells</th></tr>
          </thead>
          <tbody>
            <tr><td><var>R1</var></td><td><var>T</var></td><td>1</td><td>2</td><td><var>C1.1</var>, <var>C1.2</var>, <var>C1.3</var>, <var>C1.4</var>, <var>C1.5</var>, <var>C1.6</var>, <var>C1.7</var>, <var>C1.8</var>, <var>C1.9</var>, <var>C1.10</var></td></tr>
            <tr><td><var>R2</var></td><td><var>T</var></td><td>2</td><td>3</td><td><var>C2.1</var>, <var>C2.2</var>, <var>C2.3</var>, <var>C2.4</var>, <var>C2.5</var>, <var>C2.6</var>, <var>C2.7</var>, <var>C2.8</var>, <var>C2.9</var>, <var>C2.10</var></td></tr>
          </tbody>
        </table>

        <p>Cell annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="6">core annotations</th><th colspan="5">annotations</th></tr>
            <tr><th>table</th><th>column</th><th>row</th><th>string value</th><th>value</th><th>errors</th><th><code>datatype</code></th><th><code>format</code></th><th><code>aboutUrl</code></th><th><code>propertyUrl</code></th><th><code>valueUrl</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>C1.1</var></td><td><var>T</var></td><td><var>C1</var></td><td><var>R1</var></td><td><code>"B.B. King"</code></td><td><code>"B.B. King"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#event-1&gt;</code></td><td><code>schema:name</code></td><td></td></tr>
            <tr><td><var>C1.2</var></td><td><var>T</var></td><td><var>C2</var></td><td><var>R1</var></td><td><code>"2014-04-12T19:30"</code></td><td><code>2014-04-12T19:30:00</code></td><td></td><td><code>datetime</code></td><td><code>yyyy-MM-ddTHH:mm:ss</code></td><td><code>&lt;http://example.org/events-listing.csv#event-1&gt;</code></td><td><code>schema:startDate</code></td><td></td></tr>
            <tr><td><var>C1.3</var></td><td><var>T</var></td><td><var>C3</var></td><td><var>R1</var></td><td><code>"Lupos Heartbreak Hotel"</code></td><td><code>"Lupos Heartbreak Hotel"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#place-1&gt;</code></td><td><code>schema:name</code></td><td></td></tr>
            <tr><td><var>C1.4</var></td><td><var>T</var></td><td><var>C4</var></td><td><var>R1</var></td><td><code>"79 Washington St., Providence, RI"</code></td><td><code>"79 Washington St., Providence, RI"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#place-1&gt;</code></td><td><code>schema:address</code></td><td></td></tr>
            <tr><td><var>C1.5</var></td><td><var>T</var></td><td><var>C5</var></td><td><var>R1</var></td><td><code>"https://www.etix.com/ticket/1771656"</code></td><td><code>&lt;https://www.etix.com/ticket/1771656&gt;</code></td><td></td><td><code>anyURI</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#offer-1&gt;</code></td><td><code>schema:url</code></td><td></td></tr>
            <tr><td><var>C1.6</var></td><td><var>T</var></td><td><var>C6</var></td><td><var>R1</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#event-1&gt;</code></td><td><code>rdf:type</code></td><td><code>schema:MusicEvent</code></td></tr>
            <tr><td><var>C1.7</var></td><td><var>T</var></td><td><var>C7</var></td><td><var>R1</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#place-1&gt;</code></td><td><code>rdf:type</code></td><td><code>schema:Place</code></td></tr>
            <tr><td><var>C1.8</var></td><td><var>T</var></td><td><var>C8</var></td><td><var>R1</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#offer-1&gt;</code></td><td><code>rdf:type</code></td><td><code>schema:Offer</code></td></tr>
            <tr><td><var>C1.9</var></td><td><var>T</var></td><td><var>C9</var></td><td><var>R1</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#event-1&gt;</code></td><td><code>schema:location</code></td><td><code>&lt;http://example.org/events-listing.csv#place-1&gt;</code></td></tr>
            <tr><td><var>C1.10</var></td><td><var>T</var></td><td><var>C10</var></td><td><var>R1</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#event-1&gt;</code></td><td><code>schema:offers</code></td><td><code>&lt;http://example.org/events-listing.csv#offer-1&gt;</code></td></tr>

            <tr><td><var>C2.1</var></td><td><var>T</var></td><td><var>C1</var></td><td><var>R2</var></td><td><code>"B.B. King"</code></td><td><code>"B.B. King"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#event-2&gt;</code></td><td><code>schema:name</code></td><td></td></tr>
            <tr><td><var>C2.2</var></td><td><var>T</var></td><td><var>C2</var></td><td><var>R2</var></td><td><code>"2014-04-13T20:00"</code></td><td><code>2014-04-13T20:00:00</code></td><td></td><td><code>datetime</code></td><td><code>yyyy-MM-ddTHH:mm:ss</code></td><td><code>&lt;http://example.org/events-listing.csv#event-2&gt;</code></td><td><code>schema:startDate</code></td><td></td></tr>
            <tr><td><var>C2.3</var></td><td><var>T</var></td><td><var>C3</var></td><td><var>R2</var></td><td><code>"Lynn Auditorium"</code></td><td><code>"Lynn Auditorium"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#place-2&gt;</code></td><td><code>schema:name</code></td><td></td></tr>
            <tr><td><var>C2.4</var></td><td><var>T</var></td><td><var>C4</var></td><td><var>R2</var></td><td><code>"Lynn, MA, 01901"</code></td><td><code>"Lynn, MA, 01901"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#place-2&gt;</code></td><td><code>schema:address</code></td><td></td></tr>
            <tr><td><var>C2.5</var></td><td><var>T</var></td><td><var>C5</var></td><td><var>R2</var></td><td><code>"http://frontgatetickets.com/venue.php?id=11766"</code></td><td><code>&lt;http://frontgatetickets.com/venue.php?id=11766&gt;</code></td><td></td><td><code>anyURI</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#offer-2&gt;</code></td><td><code>schema:url</code></td><td></td></tr>
            <tr><td><var>C2.6</var></td><td><var>T</var></td><td><var>C6</var></td><td><var>R2</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#event-2&gt;</code></td><td><code>rdf:type</code></td><td><code>schema:MusicEvent</code></td></tr>
            <tr><td><var>C2.7</var></td><td><var>T</var></td><td><var>C7</var></td><td><var>R2</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#place-2&gt;</code></td><td><code>rdf:type</code></td><td><code>schema:Place</code></td></tr>
            <tr><td><var>C2.8</var></td><td><var>T</var></td><td><var>C8</var></td><td><var>R2</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#offer-2&gt;</code></td><td><code>rdf:type</code></td><td><code>schema:Offer</code></td></tr>
            <tr><td><var>C2.9</var></td><td><var>T</var></td><td><var>C9</var></td><td><var>R2</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#event-2&gt;</code></td><td><code>schema:location</code></td><td><code>&lt;http://example.org/events-listing.csv#place-2&gt;</code></td></tr>
            <tr><td><var>C2.10</var></td><td><var>T</var></td><td><var>C10</var></td><td><var>R2</var></td><td><code>""</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/events-listing.csv#event-2&gt;</code></td><td><code>schema:offers</code></td><td><code>&lt;http://example.org/events-listing.csv#offer-2&gt;</code></td></tr>
          </tbody>
        </table>

        <p class="TBD">Add descriptive notes for specific elements of parsing?</p>
      </section>

      <section id="example-public-sector-roles-and-salaries">
        <h3>Example with table group comprising three interrelated tables</h3>
        <p>
          This example is based on <a href="http://www.w3.org/TR/csvw-ucr/#UC-OrganogramData">Use Case #4 - Publication of public sector roles and salaries</a> and uses three annotated tables published within a <a>table group</a>. Information about senior roles and junior roles within a government department are published in CSV format by each department. These are validated against a centrally published <a>schema</a> to ensure that all the data published by departments is consistent. Additionally, a list of professions is also published centrally, providing a <em>controlled vocabulary</em> against which departmental submissions are validated.
        </p>

        <p> 
          The input CSV+ files and the associated metadata description are provided below:
        </p>
        <pre class="example" id="example-public-sector-roles-and-salaries-csv+-professions" title="http://example.org/conf/professions.csv">
Profession
Finance
Information Technology
Operational Delivery
Policy
        </pre>
        <pre class="example" id="example-public-sector-roles-and-salaries-csv+-senior-roles" title="http://example.org/senior-roles.csv">
Post Unique Reference,Name,Grade,Job Title,Reports to Senior Post,Profession
90115,Steve Egan,SCS1A,Deputy Chief Executive,90334,Finance
90334,Sir Alan Langlands,SCS4,Chief Executive,xx,Policy
        </pre>
        <pre class="example" id="example-public-sector-roles-and-salaries-csv+-junior-roles" title="http://example.org/junior-roles.csv">
Reporting Senior Post,Grade,Payscale Minimum (),Payscale Maximum (),Generic Job Title,Number of Posts (FTE),Profession
90115,4,17426,20002,Administrator,8.67,Operational Delivery
90115,5,19546,22478,Administrator,0.5,Operational Delivery
        </pre>
        <pre class="example highlight" id="example-public-sector-roles-and-salaries-metadata" title="http://example.org/metadata.json">
{
  "@type": "TableGroup",
  "@context": ["http://www.w3.org/ns/csvw", {"@language": "en"}],
  "resources": [{
    "url": "professions.csv",
    "tableSchema": {
      "columns": [{
        "name": "name",
        "title": "Profession",
        "datatype": "string",
        "required": true
      }],
      "primaryKey": "name"
    },
    "suppressOutput": true
  }, {
    "url": "senior-roles.csv",
    "tableSchema": {
      "columns": [{
        "name": "ref",
        "title": "Post Unique Reference",
        "datatype": "string",
        "required": true,
        "propertyUrl": "dc:identifier"
      }, {
        "name": "name",
        "title": "Name",
        "datatype": "string",
        "propertyUrl": "foaf:name"
      }, {
        "name": "grade",
        "title": "Grade",
        "datatype": "string",
        "propertyUrl": "http://example.org/def/grade"
      }, {
        "name": "job",
        "title": "Job Title",
        "datatype": "string",
        "propertyUrl": "http://example.org/def/job"
      }, {
        "name": "reportsTo",
        "title": "Reports to Senior Post",
        "datatype": "string",
        "null": "xx",
        "propertyUrl": "http://example.org/def/reportsTo",
        "valueUrl": "senior-roles.csv#post-{reportsTo}"
      }, {
        "name": "profession",
        "title": "Profession",
        "datatype": "string",
        "propertyUrl": "http://example.org/def/profession"
      }],
      "primaryKey": "ref",
      "aboutUrl": "#post-{ref}",
      "foreignKeys": [{
        "columns": "reportsTo",
        "reference": {
          "resource": "senior-roles.csv",
          "columns": "ref"
        }
      }, {
        "columns": "profession",
        "reference": {
          "resource": "professions.csv",
          "columns": "name"
        }
      }]
    }
  }, {
    "url": "junior-roles.csv",
    "tableSchema": {
      "columns": [{
        "name": "reportsToSenior",
        "title": "Reporting Senior Post",
        "datatype": "string",
        "propertyUrl": "http://example.org/def/reportsTo",
        "valueUrl": "senior-roles.csv#post-{reportsToSenior}",
        "required": true
      }, {
        "name": "grade",
        "title": "Grade",
        "datatype": "string",
        "propertyUrl": "http://example.org/def/grade"
      }, {
        "name": "min-pay",
        "title": "Payscale Minimum ()",
        "datatype": "integer",
        "propertyUrl": "http://example.org/def/min-pay"
      }, {
        "name": "max-pay",
        "title": "Payscale Maximum ()",
        "datatype": "integer",
        "propertyUrl": "http://example.org/def/max-pay"
      }, {
        "name": "job",
        "title": "Generic Job Title",
        "datatype": "string",
        "propertyUrl": "http://example.org/def/job"
      }, {
        "name": "number",
        "title": "Number of Posts (FTE)",
        "datatype": "number",
        "propertyUrl": "http://example.org/def/number-of-posts" 
      }, {
        "name": "profession",
        "title": "Profession",
        "datatype": "string",
        "propertyUrl": "http://example.org/def/profession"
      }],
      "foreignKeys": [{
        "columns": "reportsToSenior",
        "reference": {
          "resource": "senior-roles.csv",
          "columns": "ref"
        }
      }, {
        "columns": "profession",
        "reference": {
          "resource": "professions.csv",
          "columns": "name"
        }
      }]
    }
  }]
}
        </pre>

        <div class="issue">
          <p>Currently <code>professions.csv</code> is identified using a relative URL; it is supposed to be centrally published at a remote address (e.g. <code>http://example.org/conf/professions.csv</code>) and referenced from the metadata description file which is in the same directory as the <code>senior-roles.csv</code> and <code>junior-roles.csv</code> files published by the government department.</p>
          <p><strong>@gkellogg</strong> says: "<em>Need to pervasively use relative URLs as, at least for my implementation, using a separate local location vs. declared location doesn't work."</em></p>
        </div>

        <p class="note">The metadata description, <code>http://example.org/metadata.json</code>, need not be modified by the government departments publishing information about their senior roles and junior roles. The CSV+ files containing this information are <em>assumed</em> to be in the same directory as the metadata description and named <code>senior-roles.csv</code> and <code>junior-roles.csv</code>.</p>

        <p>The <a>grouped tabular data model</a> generated from parsing the CSV+ files and associated metadata is shown below and provides the basis for the conversion to RDF.</p>

        <p>Annotations for the <a>table group</a> <var>G</var> and the three tables <var>Ta</var>, <var>Tb</var>, and <var>Tc</var> are shown below.</p>

        <p>Table Group annotations:</p>
        <table>
          <thead>
            <tr><th rowspan="2">id</th><th>core annotations</th><th rowspan="2" colspan="2">annotations</th></tr>
            <tr><th><code>resources</code></th>
          </thead>
          <tbody>
            <tr><td><var>G</var></td><td><var>Ta</var>, <var>Tb</var>, <var>Tc</var></td><td><strong><code>@type</code></strong></td><td><code>TableGroup</code></td></tr>
          </tbody>
        </table>

        <p>Table annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="3">id</th><th colspan="3">core annotations</th><th colspan="3">annotations</th></tr>
            <tr><th rowspan="2"><code>url</code></th><th rowspan="2">columns</th><th rowspan="2">rows</th><th rowspan="2"><code>primaryKey</code></th><th rowspan="2"><code>suppressOutput</code></th><th colspan="2"><code>foreignKeys</code></th></tr>
            <tr><th><code>columns</code></th><th><code>reference</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>Ta</var></td><td><code>http://example.org/conf/professions.csv</code></td><td><var>Ca1</var></td><td><var>Ra1</var>, <var>Ra2</var>, <var>Ra3</var>, <var>Ra4</var></td><td><var>Ca1</var></td><td><code>true</code></td><td></td><td></td></tr>

            <tr><td><var>Tb</var></td><td><code>http://example.org/senior-roles.csv</code></td><td><var>Cb1</var>, <var>Cb2</var>, <var>Cb3</var>, <var>Cb4</var>, <var>Cb5</var>, <var>Cb6</var></td><td><var>Rb1</var>, <var>Rb2</var></td><td><var>Cb1</var></td><td></td><td><var>Cb5</var></td><td><var>Cb1</var></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td><var>Cb6</var></td><td><var>Ca1</var></td></tr>
            
            <tr><td><var>Tc</var></td><td><code>http://example.org/junior-roles.csv</code></td><td><var>Cc1</var>, <var>Cc2</var>, <var>Cc3</var>, <var>Cc4</var>, <var>Cc5</var>, <var>Cc6</var>, <var>Cc7</var></td><td><var>Rc1</var>, <var>Rc2</var></td><td></td><td></td><td><var>Cc1</var></td><td><var>Cb1</var></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td><var>Cc7</var></td><td><var>Ca1</var></td></tr>
          </tbody>
        </table>

        <p class="note">In this example, output for the centrally published list of professions, table <var>Ta</var> (<code>http://example.org/conf/professions.csv</code>), is not required; only information from the departmental submissions is to be translated to RDF. Note the <code>suppressOuput</code> annotation on this table.</p>

        <p>Annotations for the <a>columns</a>, <a>rows</a> and <a>cells</a> in <a>table</a> <var>T</var> are shown in the tables below.</p>

        <p>Column annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="4">core annotations</th><th colspan="3">annotations</th></tr>
            <tr><th>table</th><th>number</th><th>source number</th><th>cells</th><th><code>name</code></th><th><code>title</code></th><th><code>required</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>Ca1</var></td><td><var>Ta</var></td><td>1</td><td>1</td><td><var>Ca1.1</var>, <var>Ca2.1</var>, <var>Ca3.1</var>, <var>Ca4.1</var></td><td><code>name</code></td><td><code>Profession</code></td><td><code>true</code></td></tr>

            <tr><td><var>Cb1</var></td><td><var>Tb</var></td><td>1</td><td>1</td><td><var>Cb1.1</var>, <var>Cb2.1</var></td><td><code>ref</code></td><td><code>Post Unique Reference</code></td><td><code>true</code></td></tr>
            <tr><td><var>Cb2</var></td><td><var>Tb</var></td><td>2</td><td>2</td><td><var>Cb1.2</var>, <var>Cb2.2</var></td><td><code>name</code></td><td><code>Name</code></td><td></td></tr>
            <tr><td><var>Cb3</var></td><td><var>Tb</var></td><td>3</td><td>3</td><td><var>Cb1.3</var>, <var>Cb2.3</var></td><td><code>grade</code></td><td><code>Grade</code></td><td></td></tr>
            <tr><td><var>Cb4</var></td><td><var>Tb</var></td><td>4</td><td>4</td><td><var>Cb1.4</var>, <var>Cb2.4</var></td><td><code>job</code></td><td><code>Job Title</code></td><td></td></tr>
            <tr><td><var>Cb5</var></td><td><var>Tb</var></td><td>5</td><td>5</td><td><var>Cb1.5</var>, <var>Cb2.5</var></td><td><code>reportsTo</code></td><td><code>Reports to Senior Post</code></td><td></td></tr>
            <tr><td><var>Cb6</var></td><td><var>Tb</var></td><td>6</td><td>6</td><td><var>Cb1.6</var>, <var>Cb2.6</var></td><td><code>profession</code></td><td><code>Profession</code></td><td></td></tr>

            <tr><td><var>Cc1</var></td><td><var>Tc</var></td><td>1</td><td>1</td><td><var>Cc1.1</var>, <var>Cc2.1</var></td><td><code>reportsToSenior</code></td><td><code>Reporting Senior Post</code></td><td></td></tr>
            <tr><td><var>Cc2</var></td><td><var>Tc</var></td><td>2</td><td>2</td><td><var>Cc1.2</var>, <var>Cc2.2</var></td><td><code>grade</code></td><td><code>Grade</code></td><td></td></tr>
            <tr><td><var>Cc3</var></td><td><var>Tc</var></td><td>3</td><td>3</td><td><var>Cc1.3</var>, <var>Cc2.3</var></td><td><code>min-pay</code></td><td><code>Payscale Minimum ()</code></td><td></td></tr>
            <tr><td><var>Cc4</var></td><td><var>Tc</var></td><td>4</td><td>4</td><td><var>Cc1.4</var>, <var>Cc2.4</var></td><td><code>max-pay</code></td><td><code>Payscale Maximum ()</code></td><td></td></tr>
            <tr><td><var>Cc5</var></td><td><var>Tc</var></td><td>5</td><td>5</td><td><var>Cc1.5</var>, <var>Cc2.5</var></td><td><code>job</code></td><td><code>Generic Job Title</code></td><td></td></tr>
            <tr><td><var>Cc6</var></td><td><var>Tc</var></td><td>6</td><td>6</td><td><var>Cc1.6</var>, <var>Cc2.6</var></td><td><code>number</code></td><td><code>Number of Posts (FTE)</code></td><td></td></tr>
            <tr><td><var>Cc7</var></td><td><var>Tc</var></td><td>7</td><td>7</td><td><var>Cc1.7</var>, <var>Cc2.7</var></td><td><code>profession</code></td><td><code>Profession</code></td><td></td></tr>
          </tbody>
        </table>

        <p>Row annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="4">core annotations</th></tr>
            <tr><th>table</th><th>number</th><th>source number</th><th>cells</th></tr>
          </thead>
          <tbody>
            <tr><td><var>Ra1</var></td><td><var>Ta</var></td><td>1</td><td>2</td><td><var>Ca1.1</var></td></tr>
            <tr><td><var>Ra2</var></td><td><var>Ta</var></td><td>2</td><td>3</td><td><var>Ca2.1</var></td></tr>
            <tr><td><var>Ra3</var></td><td><var>Ta</var></td><td>3</td><td>4</td><td><var>Ca3.1</var></td></tr>
            <tr><td><var>Ra4</var></td><td><var>Ta</var></td><td>4</td><td>5</td><td><var>Ca4.1</var></td></tr>

            <tr><td><var>Rb1</var></td><td><var>Tb</var></td><td>1</td><td>2</td><td><var>Cb1.1</var>, <var>Cb1.2</var>, <var>Cb1.3</var>, <var>Cb1.4</var>, <var>Cb1.5</var>, <var>Cb1.6</var></td></tr>
            <tr><td><var>Rb2</var></td><td><var>Tb</var></td><td>2</td><td>3</td><td><var>Cb2.1</var>, <var>Cb2.2</var>, <var>Cb2.3</var>, <var>Cb2.4</var>, <var>Cb2.5</var>, <var>Cb2.6</var></td></tr>

            <tr><td><var>Rc1</var></td><td><var>Tc</var></td><td>1</td><td>2</td><td><var>Cc1.1</var>, <var>Cc1.2</var>, <var>Cc1.3</var>, <var>Cc1.4</var>, <var>Cc1.5</var>, <var>Cc1.6</var>, <var>Cc1.7</var></td></tr>
            <tr><td><var>Rc2</var></td><td><var>Tc</var></td><td>2</td><td>3</td><td><var>Cc2.1</var>, <var>Cc2.2</var>, <var>Cc2.3</var>, <var>Cc2.4</var>, <var>Cc2.5</var>, <var>Cc2.6</var>, <var>Cc2.7</var></td></tr>
          </tbody>
        </table>

        <p>Cell annotations:</p>
        <table style="width: 100%; text-align: left">
          <thead>
            <tr><th rowspan="2">id</th><th colspan="6">core annotations</th><th colspan="5">annotations</th></tr>
            <tr><th>table</th><th>column</th><th>row</th><th>string value</th><th>value</th><th>errors</th><th><code>datatype</code></th><th><code>null</code></th><th><code>aboutUrl</code></th><th><code>propertyUrl</code></th><th><code>valueUrl</code></th></tr>
          </thead>
          <tbody>
            <tr><td><var>Ca1.1</var></td><td><var>Ta</var></td><td><var>Ca1</var></td><td><var>Ra1</var></td><td><code>"Finance"</code></td><td><code>"Finance"</code></td><td></td><td><code>string</code></td><td></td><td></td><td></td><td></td></tr>

            <tr><td><var>Ca2.1</var></td><td><var>Ta</var></td><td><var>Ca1</var></td><td><var>Ra2</var></td><td><code>"Information Technology"</code></td><td><code>"Information Techology"</code></td><td></td><td><code>string</code></td><td></td><td></td><td></td><td></td></tr>

            <tr><td><var>Ca3.1</var></td><td><var>Ta</var></td><td><var>Ca1</var></td><td><var>Ra3</var></td><td><code>"Operational Delivery"</code></td><td><code>"Operational Delivery"</code></td><td></td><td><code>string</code></td><td></td><td></td><td></td><td></td></tr>

            <tr><td><var>Ca4.1</var></td><td><var>Ta</var></td><td><var>Ca1</var></td><td><var>Ra4</var></td><td><code>"Policy"</code></td><td><code>"Policy"</code></td><td></td><td><code>string</code></td><td></td><td></td><td></td><td></td></tr>


            <tr><td><var>Cb1.1</var></td><td><var>Tb</var></td><td><var>Cb1</var></td><td><var>Rb1</var></td><td><code>"90115"</code></td><td><code>"90115"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90115&gt;</code></td><td><code>dc:identifier</code></td><td></td></tr>
            <tr><td><var>Cb1.2</var></td><td><var>Tb</var></td><td><var>Cb2</var></td><td><var>Rb1</var></td><td><code>"Steve Egan"</code></td><td><code>"Steve Egan"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90115&gt;</code></td><td><code>foaf:name</code></td><td></td></tr>
            <tr><td><var>Cb1.3</var></td><td><var>Tb</var></td><td><var>Cb3</var></td><td><var>Rb1</var></td><td><code>"SCS1A"</code></td><td><code>"SCS1A"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90115&gt;</code></td><td><code>&lt;http://example.org/def/grade&gt;</code></td><td></td></tr>
            <tr><td><var>Cb1.4</var></td><td><var>Tb</var></td><td><var>Cb4</var></td><td><var>Rb1</var></td><td><code>"Deputy Chief Executive"</code></td><td><code>"Deputy Chief Executive"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90115&gt;</code></td><td><code>&lt;http://example.org/def/job&gt;</code></td><td></td></tr>
            <tr><td><var>Cb1.5</var></td><td><var>Tb</var></td><td><var>Cb5</var></td><td><var>Rb1</var></td><td><code>"90334"</code></td><td><code>"90334"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90115&gt;</code></td><td><code>&lt;http://example.org/def/reportsTo&gt;</code></td><td><code>&lt;http://example.org/senior-roles.csv#post-90334&gt;</code></td></tr>
            <tr><td><var>Cb1.6</var></td><td><var>Tb</var></td><td><var>Cb6</var></td><td><var>Rb1</var></td><td><code>"Finance"</code></td><td><code>"Finance"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90115&gt;</code></td><td><code>&lt;http://example.org/def/profession&gt;</code></td><td></td></tr>  

            <tr><td><var>Cb2.1</var></td><td><var>Tb</var></td><td><var>Cb1</var></td><td><var>Rb2</var></td><td><code>"90334"</code></td><td><code>"90334"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90334&gt;</code></td><td><code>dc:identifier</code></td><td></td></tr>
            <tr><td><var>Cb2.2</var></td><td><var>Tb</var></td><td><var>Cb2</var></td><td><var>Rb2</var></td><td><code>"Sir Alan Langlands"</code></td><td><code>"Sir Alan Langlands"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90334&gt;</code></td><td><code>foaf:name</code></td><td></td></tr>
            <tr><td><var>Cb2.3</var></td><td><var>Tb</var></td><td><var>Cb3</var></td><td><var>Rb2</var></td><td><code>"SCS4"</code></td><td><code>"SCS4"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90334&gt;</code></td><td><code>&lt;http://example.org/def/grade&gt;</code></td><td></td></tr>
            <tr><td><var>Cb2.4</var></td><td><var>Tb</var></td><td><var>Cb4</var></td><td><var>Rb2</var></td><td><code>"Chief Executive"</code></td><td><code>"Chief Executive"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90334&gt;</code></td><td><code>&lt;http://example.org/def/job&gt;</code></td><td></td></tr>
            <tr><td><var>Cb2.5</var></td><td><var>Tb</var></td><td><var>Cb5</var></td><td><var>Rb2</var></td><td><code>"xx"</code></td><td><code>null</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90334&gt;</code></td><td><code>&lt;http://example.org/def/reportsTo&gt;</code></td><td></td></tr>
            <tr><td><var>Cb2.6</var></td><td><var>Tb</var></td><td><var>Cb6</var></td><td><var>Rb2</var></td><td><code>"Policy"</code></td><td><code>"Policy"</code></td><td></td><td><code>string</code></td><td></td><td><code>&lt;http://example.org/senior-roles.csv#post-90334&gt;</code></td><td><code>&lt;http://example.org/def/profession&gt;</code></td><td></td></tr>


            <tr><td><var>Cc1.1</var></td><td><var>Tc</var></td><td><var>Cc1</var></td><td><var>Rc1</var></td><td><code>"90115"</code></td><td><code>"90115"</code></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/def/reportsTo&gt;</code></td><td><code>&lt;http://example.org/senior-roles.csv#post-90115&gt;</code></td></tr>
            <tr><td><var>Cc1.2</var></td><td><var>Tc</var></td><td><var>Cc2</var></td><td><var>Rc1</var></td><td><code>"4"</code></td><td><code>"4"</code></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/def/grade&gt;</code></td><td></td></tr>
            <tr><td><var>Cc1.3</var></td><td><var>Tc</var></td><td><var>Cc3</var></td><td><var>Rc1</var></td><td><code>"17426"</code></td><td><code>17426</code></td><td></td><td><code>integer</code></td><td></td><td></td><td><code>&lt;http://example.org/def/min-pay&gt;</code></td><td></td></tr>
            <tr><td><var>Cc1.4</var></td><td><var>Tc</var></td><td><var>Cc4</var></td><td><var>Rc1</var></td><td><code>"20002"</code></td><td><code>20002</code></td><td></td><td><code>integer</code></td><td></td><td></td><td><code>&lt;http://example.org/def/max-pay&gt;</code></td><td></td></tr>
            <tr><td><var>Cc1.5</var></td><td><var>Tc</var></td><td><var>Cc5</var></td><td><var>Rc1</var></td><td><code>"Administrator"</code></td><td><code>"Administrator"</code></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/def/job&gt;</code></td><td></td></tr>
            <tr><td><var>Cc1.6</var></td><td><var>Tc</var></td><td><var>Cc6</var></td><td><var>Rc1</var></td><td><code>"8.67"</code></td><td><code>8.67</code></td><td></td><td><code>number</code></td><td></td><td></td><td><code>&lt;http://example.org/def/number-of-posts&gt;</code></td><td></td></tr>
            <tr><td><var>Cc1.7</var></td><td><var>Tc</var></td><td><var>Cc7</var></td><td><var>Rc1</var></td><td><code>"Operational Delivery"</code></td><td><code>"Operational Delivery"</code></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/def/profession&gt;</code></td><td></td></tr>

            <tr><td><var>Cc2.1</var></td><td><var>Tc</var></td><td><var>Cc1</var></td><td><var>Rc2</var></td><td><code>"90115"</code></td><td><code>"90115"</code></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/def/reportsTo&gt;</code></td><td><code>&lt;http://example.org/senior-roles.csv#post-90115&gt;</code></td></tr>
            <tr><td><var>Cc2.2</var></td><td><var>Tc</var></td><td><var>Cc2</var></td><td><var>Rc2</var></td><td><code>"5"</code></td><td><code>"5"</code></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/def/grade&gt;</code></td><td></td></tr>
            <tr><td><var>Cc2.3</var></td><td><var>Tc</var></td><td><var>Cc3</var></td><td><var>Rc2</var></td><td><code>"19546"</code></td><td><code>19546</code></td><td></td><td><code>integer</code></td><td></td><td></td><td><code>&lt;http://example.org/def/min-pay&gt;</code></td><td></td></tr>
            <tr><td><var>Cc2.4</var></td><td><var>Tc</var></td><td><var>Cc4</var></td><td><var>Rc2</var></td><td><code>"22478"</code></td><td><code>22478</code></td><td></td><td><code>integer</code></td><td></td><td></td><td><code>&lt;http://example.org/def/max-pay&gt;</code></td><td></td></tr>
            <tr><td><var>Cc2.5</var></td><td><var>Tc</var></td><td><var>Cc5</var></td><td><var>Rc2</var></td><td><code>"Administrator"</code></td><td><code>"Administrator"</code></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/def/job&gt;</code></td><td></td></tr>
            <tr><td><var>Cc2.6</var></td><td><var>Tc</var></td><td><var>Cc6</var></td><td><var>Rc2</var></td><td><code>"0.5"</code></td><td><code>0.5</code></td><td></td><td><code>number</code></td><td></td><td></td><td><code>&lt;http://example.org/def/number-of-posts&gt;</code></td><td></td></tr>
            <tr><td><var>Cc2.7</var></td><td><var>Tc</var></td><td><var>Cc7</var></td><td><var>Rc2</var></td><td><code>"Operational Delivery"</code></td><td><code>"Operational Delivery"</code></td><td></td><td><code>string</code></td><td></td><td></td><td><code>&lt;http://example.org/def/profession&gt;</code></td><td></td></tr>
          </tbody>
        </table>

        <p class="TBD">Add descriptive notes for specific elements of parsing?</p>
      </section>

    </section>

  </body>
</html>
